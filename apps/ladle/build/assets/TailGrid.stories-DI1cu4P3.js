var Gt=t=>{throw TypeError(t)};var Pt=(t,e,s)=>e.has(t)||Gt("Cannot "+s);var o=(t,e,s)=>(Pt(t,e,"read from private field"),s?s.call(t):e.get(t)),R=(t,e,s)=>e.has(t)?Gt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),x=(t,e,s,i)=>(Pt(t,e,"write to private field"),i?i.call(t,s):e.set(t,s),s),N=(t,e,s)=>(Pt(t,e,"access private method"),s);var wt=(t,e,s,i)=>({set _(r){x(t,e,r,s)},get _(){return o(t,e,i)}});import{r as u,j as n,a as Os,R as As}from"./index-CvzDzEzH.js";var ft=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zs={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},fe,qt,as,Ls=(as=class{constructor(){R(this,fe,zs);R(this,qt,!1)}setTimeoutProvider(t){x(this,fe,t)}setTimeout(t,e){return o(this,fe).setTimeout(t,e)}clearTimeout(t){o(this,fe).clearTimeout(t)}setInterval(t,e){return o(this,fe).setInterval(t,e)}clearInterval(t){o(this,fe).clearInterval(t)}},fe=new WeakMap,qt=new WeakMap,as),Re=new Ls;function Ws(t){setTimeout(t,0)}var Oe=typeof window>"u"||"Deno"in globalThis;function ee(){}function Ks(t,e){return typeof t=="function"?t(e):t}function kt(t){return typeof t=="number"&&t>=0&&t!==1/0}function ps(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ce(t,e){return typeof t=="function"?t(e):t}function se(t,e){return typeof t=="function"?t(e):t}function Vt(t,e){const{type:s="all",exact:i,fetchStatus:r,predicate:a,queryKey:l,stale:c}=t;if(l){if(i){if(e.queryHash!==Qt(l,e.options))return!1}else if(!lt(e.queryKey,l))return!1}if(s!=="all"){const d=e.isActive();if(s==="active"&&!d||s==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||r&&r!==e.state.fetchStatus||a&&!a(e))}function _t(t,e){const{exact:s,status:i,predicate:r,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(s){if(ot(e.options.mutationKey)!==ot(a))return!1}else if(!lt(e.options.mutationKey,a))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function Qt(t,e){return((e==null?void 0:e.queryKeyHashFn)||ot)(t)}function ot(t){return JSON.stringify(t,(e,s)=>Tt(s)?Object.keys(s).sort().reduce((i,r)=>(i[r]=s[r],i),{}):s)}function lt(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(s=>lt(t[s],e[s])):!1}var qs=Object.prototype.hasOwnProperty;function ys(t,e){if(t===e)return t;const s=Xt(t)&&Xt(e);if(!s&&!(Tt(t)&&Tt(e)))return e;const r=(s?t:Object.keys(t)).length,a=s?e:Object.keys(e),l=a.length,c=s?new Array(l):{};let d=0;for(let m=0;m<l;m++){const b=s?m:a[m],g=t[b],w=e[b];if(g===w){c[b]=g,(s?m<r:qs.call(t,b))&&d++;continue}if(g===null||w===null||typeof g!="object"||typeof w!="object"){c[b]=w;continue}const h=ys(g,w);c[b]=h,h===g&&d++}return r===l&&d===r?t:c}function Ft(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function Xt(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Tt(t){if(!Jt(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!Jt(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Jt(t){return Object.prototype.toString.call(t)==="[object Object]"}function Qs(t){return new Promise(e=>{Re.setTimeout(e,t)})}function It(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?ys(t,e):e}function Us(t){return t}function $s(t,e,s=0){const i=[...t,e];return s&&i.length>s?i.slice(1):i}function Hs(t,e,s=0){const i=[e,...t];return s&&i.length>s?i.slice(0,-1):i}var Ut=Symbol();function bs(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Ut?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Bs(t,e){return typeof t=="function"?t(...e):!!t}var Pe,pe,We,os,Gs=(os=class extends ft{constructor(){super();R(this,Pe);R(this,pe);R(this,We);x(this,We,e=>{if(!Oe&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){o(this,pe)||this.setEventListener(o(this,We))}onUnsubscribe(){var e;this.hasListeners()||((e=o(this,pe))==null||e.call(this),x(this,pe,void 0))}setEventListener(e){var s;x(this,We,e),(s=o(this,pe))==null||s.call(this),x(this,pe,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){o(this,Pe)!==e&&(x(this,Pe,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof o(this,Pe)=="boolean"?o(this,Pe):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Pe=new WeakMap,pe=new WeakMap,We=new WeakMap,os),$t=new Gs;function Et(){let t,e;const s=new Promise((r,a)=>{t=r,e=a});s.status="pending",s.catch(()=>{});function i(r){Object.assign(s,r),delete s.resolve,delete s.reject}return s.resolve=r=>{i({status:"fulfilled",value:r}),t(r)},s.reject=r=>{i({status:"rejected",reason:r}),e(r)},s}var Vs=Ws;function _s(){let t=[],e=0,s=c=>{c()},i=c=>{c()},r=Vs;const a=c=>{e?t.push(c):r(()=>{s(c)})},l=()=>{const c=t;t=[],c.length&&r(()=>{i(()=>{c.forEach(d=>{s(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||l()}return d},batchCalls:c=>(...d)=>{a(()=>{c(...d)})},schedule:a,setNotifyFunction:c=>{s=c},setBatchNotifyFunction:c=>{i=c},setScheduler:c=>{r=c}}}var V=_s(),Ke,ye,qe,ls,Xs=(ls=class extends ft{constructor(){super();R(this,Ke,!0);R(this,ye);R(this,qe);x(this,qe,e=>{if(!Oe&&window.addEventListener){const s=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",i)}}})}onSubscribe(){o(this,ye)||this.setEventListener(o(this,qe))}onUnsubscribe(){var e;this.hasListeners()||((e=o(this,ye))==null||e.call(this),x(this,ye,void 0))}setEventListener(e){var s;x(this,qe,e),(s=o(this,ye))==null||s.call(this),x(this,ye,e(this.setOnline.bind(this)))}setOnline(e){o(this,Ke)!==e&&(x(this,Ke,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return o(this,Ke)}},Ke=new WeakMap,ye=new WeakMap,qe=new WeakMap,ls),Ct=new Xs;function Js(t){return Math.min(1e3*2**t,3e4)}function Ss(t){return(t??"online")==="online"?Ct.isOnline():!0}var Dt=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function xs(t){let e=!1,s=0,i;const r=Et(),a=()=>r.status!=="pending",l=C=>{var f;if(!a()){const S=new Dt(C);w(S),(f=t.onCancel)==null||f.call(t,S)}},c=()=>{e=!0},d=()=>{e=!1},m=()=>$t.isFocused()&&(t.networkMode==="always"||Ct.isOnline())&&t.canRun(),b=()=>Ss(t.networkMode)&&t.canRun(),g=C=>{a()||(i==null||i(),r.resolve(C))},w=C=>{a()||(i==null||i(),r.reject(C))},h=()=>new Promise(C=>{var f;i=S=>{(a()||m())&&C(S)},(f=t.onPause)==null||f.call(t)}).then(()=>{var C;i=void 0,a()||(C=t.onContinue)==null||C.call(t)}),k=()=>{if(a())return;let C;const f=s===0?t.initialPromise:void 0;try{C=f??t.fn()}catch(S){C=Promise.reject(S)}Promise.resolve(C).then(g).catch(S=>{var K;if(a())return;const P=t.retry??(Oe?0:3),E=t.retryDelay??Js,v=typeof E=="function"?E(s,S):E,M=P===!0||typeof P=="number"&&s<P||typeof P=="function"&&P(s,S);if(e||!M){w(S);return}s++,(K=t.onFail)==null||K.call(t,s,S),Qs(v).then(()=>m()?void 0:h()).then(()=>{e?w(S):k()})})};return{promise:r,status:()=>r.status,cancel:l,continue:()=>(i==null||i(),r),cancelRetry:c,continueRetry:d,canStart:b,start:()=>(b()?k():h().then(k),r)}}var ke,cs,ws=(cs=class{constructor(){R(this,ke)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kt(this.gcTime)&&x(this,ke,Re.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Oe?1/0:300*1e3))}clearGcTimeout(){o(this,ke)&&(Re.clearTimeout(o(this,ke)),x(this,ke,void 0))}},ke=new WeakMap,cs),Fe,Qe,te,Te,B,ut,Ie,ne,de,us,Ys=(us=class extends ws{constructor(e){super();R(this,ne);R(this,Fe);R(this,Qe);R(this,te);R(this,Te);R(this,B);R(this,ut);R(this,Ie);x(this,Ie,!1),x(this,ut,e.defaultOptions),this.setOptions(e.options),this.observers=[],x(this,Te,e.client),x(this,te,o(this,Te).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,x(this,Fe,Zt(this.options)),this.state=e.state??o(this,Fe),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=o(this,B))==null?void 0:e.promise}setOptions(e){if(this.options={...o(this,ut),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Zt(this.options);s.data!==void 0&&(this.setState(Yt(s.data,s.dataUpdatedAt)),x(this,Fe,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&o(this,te).remove(this)}setData(e,s){const i=It(this.state.data,e,this.options);return N(this,ne,de).call(this,{data:i,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),i}setState(e,s){N(this,ne,de).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var i,r;const s=(i=o(this,B))==null?void 0:i.promise;return(r=o(this,B))==null||r.cancel(e),s?s.then(ee).catch(ee):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(o(this,Fe))}isActive(){return this.observers.some(e=>se(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ut||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ce(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!ps(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=o(this,B))==null||s.continue()}onOnline(){var s;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=o(this,B))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),o(this,te).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(o(this,B)&&(o(this,Ie)?o(this,B).cancel({revert:!0}):o(this,B).cancelRetry()),this.scheduleGc()),o(this,te).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||N(this,ne,de).call(this,{type:"invalidate"})}async fetch(e,s){var d,m,b,g,w,h,k,C,f,S,P,E;if(this.state.fetchStatus!=="idle"&&((d=o(this,B))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(o(this,B))return o(this,B).continueRetry(),o(this,B).promise}if(e&&this.setOptions(e),!this.options.queryFn){const v=this.observers.find(M=>M.options.queryFn);v&&this.setOptions(v.options)}const i=new AbortController,r=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(x(this,Ie,!0),i.signal)})},a=()=>{const v=bs(this.options,s),K=(()=>{const Q={client:o(this,Te),queryKey:this.queryKey,meta:this.meta};return r(Q),Q})();return x(this,Ie,!1),this.options.persister?this.options.persister(v,K,this):v(K)},c=(()=>{const v={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:o(this,Te),state:this.state,fetchFn:a};return r(v),v})();(m=this.options.behavior)==null||m.onFetch(c,this),x(this,Qe,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((b=c.fetchOptions)==null?void 0:b.meta))&&N(this,ne,de).call(this,{type:"fetch",meta:(g=c.fetchOptions)==null?void 0:g.meta}),x(this,B,xs({initialPromise:s==null?void 0:s.initialPromise,fn:c.fetchFn,onCancel:v=>{v instanceof Dt&&v.revert&&this.setState({...o(this,Qe),fetchStatus:"idle"}),i.abort()},onFail:(v,M)=>{N(this,ne,de).call(this,{type:"failed",failureCount:v,error:M})},onPause:()=>{N(this,ne,de).call(this,{type:"pause"})},onContinue:()=>{N(this,ne,de).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const v=await o(this,B).start();if(v===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(v),(h=(w=o(this,te).config).onSuccess)==null||h.call(w,v,this),(C=(k=o(this,te).config).onSettled)==null||C.call(k,v,this.state.error,this),v}catch(v){if(v instanceof Dt){if(v.silent)return o(this,B).promise;if(v.revert){if(this.state.data===void 0)throw v;return this.state.data}}throw N(this,ne,de).call(this,{type:"error",error:v}),(S=(f=o(this,te).config).onError)==null||S.call(f,v,this),(E=(P=o(this,te).config).onSettled)==null||E.call(P,this.state.data,v,this),v}finally{this.scheduleGc()}}},Fe=new WeakMap,Qe=new WeakMap,te=new WeakMap,Te=new WeakMap,B=new WeakMap,ut=new WeakMap,Ie=new WeakMap,ne=new WeakSet,de=function(e){const s=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...vs(i.data,this.options),fetchMeta:e.meta??null};case"success":const r={...i,...Yt(e.data,e.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return x(this,Qe,e.manual?r:void 0),r;case"error":const a=e.error;return{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=s(this.state),V.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),o(this,te).notify({query:this,type:"updated",action:e})})},us);function vs(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ss(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Yt(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Zt(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,i=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Z,O,dt,J,Ee,Ue,he,be,ht,$e,He,De,Me,Se,Be,A,nt,Mt,Nt,Ot,At,zt,Lt,Wt,Cs,ds,Zs=(ds=class extends ft{constructor(e,s){super();R(this,A);R(this,Z);R(this,O);R(this,dt);R(this,J);R(this,Ee);R(this,Ue);R(this,he);R(this,be);R(this,ht);R(this,$e);R(this,He);R(this,De);R(this,Me);R(this,Se);R(this,Be,new Set);this.options=s,x(this,Z,e),x(this,be,null),x(this,he,Et()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(o(this,O).addObserver(this),es(o(this,O),this.options)?N(this,A,nt).call(this):this.updateResult(),N(this,A,At).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kt(o(this,O),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kt(o(this,O),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,N(this,A,zt).call(this),N(this,A,Lt).call(this),o(this,O).removeObserver(this)}setOptions(e){const s=this.options,i=o(this,O);if(this.options=o(this,Z).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof se(this.options.enabled,o(this,O))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");N(this,A,Wt).call(this),o(this,O).setOptions(this.options),s._defaulted&&!Ft(this.options,s)&&o(this,Z).getQueryCache().notify({type:"observerOptionsUpdated",query:o(this,O),observer:this});const r=this.hasListeners();r&&ts(o(this,O),i,this.options,s)&&N(this,A,nt).call(this),this.updateResult(),r&&(o(this,O)!==i||se(this.options.enabled,o(this,O))!==se(s.enabled,o(this,O))||Ce(this.options.staleTime,o(this,O))!==Ce(s.staleTime,o(this,O)))&&N(this,A,Mt).call(this);const a=N(this,A,Nt).call(this);r&&(o(this,O)!==i||se(this.options.enabled,o(this,O))!==se(s.enabled,o(this,O))||a!==o(this,Se))&&N(this,A,Ot).call(this,a)}getOptimisticResult(e){const s=o(this,Z).getQueryCache().build(o(this,Z),e),i=this.createResult(s,e);return ti(this,i)&&(x(this,J,i),x(this,Ue,this.options),x(this,Ee,o(this,O).state)),i}getCurrentResult(){return o(this,J)}trackResult(e,s){return new Proxy(e,{get:(i,r)=>(this.trackProp(r),s==null||s(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&o(this,he).status==="pending"&&o(this,he).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,r))})}trackProp(e){o(this,Be).add(e)}getCurrentQuery(){return o(this,O)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=o(this,Z).defaultQueryOptions(e),i=o(this,Z).getQueryCache().build(o(this,Z),s);return i.fetch().then(()=>this.createResult(i,s))}fetch(e){return N(this,A,nt).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),o(this,J)))}createResult(e,s){var F;const i=o(this,O),r=this.options,a=o(this,J),l=o(this,Ee),c=o(this,Ue),m=e!==i?e.state:o(this,dt),{state:b}=e;let g={...b},w=!1,h;if(s._optimisticResults){const y=this.hasListeners(),W=!y&&es(e,s),D=y&&ts(e,i,s,r);(W||D)&&(g={...g,...vs(b.data,e.options)}),s._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:k,errorUpdatedAt:C,status:f}=g;h=g.data;let S=!1;if(s.placeholderData!==void 0&&h===void 0&&f==="pending"){let y;a!=null&&a.isPlaceholderData&&s.placeholderData===(c==null?void 0:c.placeholderData)?(y=a.data,S=!0):y=typeof s.placeholderData=="function"?s.placeholderData((F=o(this,He))==null?void 0:F.state.data,o(this,He)):s.placeholderData,y!==void 0&&(f="success",h=It(a==null?void 0:a.data,y,s),w=!0)}if(s.select&&h!==void 0&&!S)if(a&&h===(l==null?void 0:l.data)&&s.select===o(this,ht))h=o(this,$e);else try{x(this,ht,s.select),h=s.select(h),h=It(a==null?void 0:a.data,h,s),x(this,$e,h),x(this,be,null)}catch(y){x(this,be,y)}o(this,be)&&(k=o(this,be),h=o(this,$e),C=Date.now(),f="error");const P=g.fetchStatus==="fetching",E=f==="pending",v=f==="error",M=E&&P,K=h!==void 0,j={status:f,fetchStatus:g.fetchStatus,isPending:E,isSuccess:f==="success",isError:v,isInitialLoading:M,isLoading:M,data:h,dataUpdatedAt:g.dataUpdatedAt,error:k,errorUpdatedAt:C,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>m.dataUpdateCount||g.errorUpdateCount>m.errorUpdateCount,isFetching:P,isRefetching:P&&!E,isLoadingError:v&&!K,isPaused:g.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:v&&K,isStale:Ht(e,s),refetch:this.refetch,promise:o(this,he),isEnabled:se(s.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const y=re=>{j.status==="error"?re.reject(j.error):j.data!==void 0&&re.resolve(j.data)},W=()=>{const re=x(this,he,j.promise=Et());y(re)},D=o(this,he);switch(D.status){case"pending":e.queryHash===i.queryHash&&y(D);break;case"fulfilled":(j.status==="error"||j.data!==D.value)&&W();break;case"rejected":(j.status!=="error"||j.error!==D.reason)&&W();break}}return j}updateResult(){const e=o(this,J),s=this.createResult(o(this,O),this.options);if(x(this,Ee,o(this,O).state),x(this,Ue,this.options),o(this,Ee).data!==void 0&&x(this,He,o(this,O)),Ft(s,e))return;x(this,J,s);const i=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!o(this,Be).size)return!0;const l=new Set(a??o(this,Be));return this.options.throwOnError&&l.add("error"),Object.keys(o(this,J)).some(c=>{const d=c;return o(this,J)[d]!==e[d]&&l.has(d)})};N(this,A,Cs).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&N(this,A,At).call(this)}},Z=new WeakMap,O=new WeakMap,dt=new WeakMap,J=new WeakMap,Ee=new WeakMap,Ue=new WeakMap,he=new WeakMap,be=new WeakMap,ht=new WeakMap,$e=new WeakMap,He=new WeakMap,De=new WeakMap,Me=new WeakMap,Se=new WeakMap,Be=new WeakMap,A=new WeakSet,nt=function(e){N(this,A,Wt).call(this);let s=o(this,O).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(ee)),s},Mt=function(){N(this,A,zt).call(this);const e=Ce(this.options.staleTime,o(this,O));if(Oe||o(this,J).isStale||!kt(e))return;const i=ps(o(this,J).dataUpdatedAt,e)+1;x(this,De,Re.setTimeout(()=>{o(this,J).isStale||this.updateResult()},i))},Nt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(o(this,O)):this.options.refetchInterval)??!1},Ot=function(e){N(this,A,Lt).call(this),x(this,Se,e),!(Oe||se(this.options.enabled,o(this,O))===!1||!kt(o(this,Se))||o(this,Se)===0)&&x(this,Me,Re.setInterval(()=>{(this.options.refetchIntervalInBackground||$t.isFocused())&&N(this,A,nt).call(this)},o(this,Se)))},At=function(){N(this,A,Mt).call(this),N(this,A,Ot).call(this,N(this,A,Nt).call(this))},zt=function(){o(this,De)&&(Re.clearTimeout(o(this,De)),x(this,De,void 0))},Lt=function(){o(this,Me)&&(Re.clearInterval(o(this,Me)),x(this,Me,void 0))},Wt=function(){const e=o(this,Z).getQueryCache().build(o(this,Z),this.options);if(e===o(this,O))return;const s=o(this,O);x(this,O,e),x(this,dt,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Cs=function(e){V.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(o(this,J))}),o(this,Z).getQueryCache().notify({query:o(this,O),type:"observerResultsUpdated"})})},ds);function ei(t,e){return se(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function es(t,e){return ei(t,e)||t.state.data!==void 0&&Kt(t,e,e.refetchOnMount)}function Kt(t,e,s){if(se(e.enabled,t)!==!1&&Ce(e.staleTime,t)!=="static"){const i=typeof s=="function"?s(t):s;return i==="always"||i!==!1&&Ht(t,e)}return!1}function ts(t,e,s,i){return(t!==e||se(i.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&Ht(t,s)}function Ht(t,e){return se(e.enabled,t)!==!1&&t.isStaleByTime(Ce(e.staleTime,t))}function ti(t,e){return!Ft(t.getCurrentResult(),e)}function ss(t){return{onFetch:(e,s)=>{var b,g,w,h,k;const i=e.options,r=(w=(g=(b=e.fetchOptions)==null?void 0:b.meta)==null?void 0:g.fetchMore)==null?void 0:w.direction,a=((h=e.state.data)==null?void 0:h.pages)||[],l=((k=e.state.data)==null?void 0:k.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const m=async()=>{let C=!1;const f=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?C=!0:e.signal.addEventListener("abort",()=>{C=!0}),e.signal)})},S=bs(e.options,e.fetchOptions),P=async(E,v,M)=>{if(C)return Promise.reject();if(v==null&&E.pages.length)return Promise.resolve(E);const Q=(()=>{const W={client:e.client,queryKey:e.queryKey,pageParam:v,direction:M?"backward":"forward",meta:e.options.meta};return f(W),W})(),j=await S(Q),{maxPages:F}=e.options,y=M?Hs:$s;return{pages:y(E.pages,j,F),pageParams:y(E.pageParams,v,F)}};if(r&&a.length){const E=r==="backward",v=E?si:is,M={pages:a,pageParams:l},K=v(i,M);c=await P(M,K,E)}else{const E=t??a.length;do{const v=d===0?l[0]??i.initialPageParam:is(i,c);if(d>0&&v==null)break;c=await P(c,v),d++}while(d<E)}return c};e.options.persister?e.fetchFn=()=>{var C,f;return(f=(C=e.options).persister)==null?void 0:f.call(C,m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=m}}}function is(t,{pages:e,pageParams:s}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,s[i],s):void 0}function si(t,{pages:e,pageParams:s}){var i;return e.length>0?(i=t.getPreviousPageParam)==null?void 0:i.call(t,e[0],e,s[0],s):void 0}var gt,oe,Y,Ne,le,me,hs,ii=(hs=class extends ws{constructor(e){super();R(this,le);R(this,gt);R(this,oe);R(this,Y);R(this,Ne);x(this,gt,e.client),this.mutationId=e.mutationId,x(this,Y,e.mutationCache),x(this,oe,[]),this.state=e.state||ri(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){o(this,oe).includes(e)||(o(this,oe).push(e),this.clearGcTimeout(),o(this,Y).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){x(this,oe,o(this,oe).filter(s=>s!==e)),this.scheduleGc(),o(this,Y).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){o(this,oe).length||(this.state.status==="pending"?this.scheduleGc():o(this,Y).remove(this))}continue(){var e;return((e=o(this,Ne))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var l,c,d,m,b,g,w,h,k,C,f,S,P,E,v,M,K,Q,j,F;const s=()=>{N(this,le,me).call(this,{type:"continue"})},i={client:o(this,gt),meta:this.options.meta,mutationKey:this.options.mutationKey};x(this,Ne,xs({fn:()=>this.options.mutationFn?this.options.mutationFn(e,i):Promise.reject(new Error("No mutationFn found")),onFail:(y,W)=>{N(this,le,me).call(this,{type:"failed",failureCount:y,error:W})},onPause:()=>{N(this,le,me).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>o(this,Y).canRun(this)}));const r=this.state.status==="pending",a=!o(this,Ne).canStart();try{if(r)s();else{N(this,le,me).call(this,{type:"pending",variables:e,isPaused:a}),await((c=(l=o(this,Y).config).onMutate)==null?void 0:c.call(l,e,this,i));const W=await((m=(d=this.options).onMutate)==null?void 0:m.call(d,e,i));W!==this.state.context&&N(this,le,me).call(this,{type:"pending",context:W,variables:e,isPaused:a})}const y=await o(this,Ne).start();return await((g=(b=o(this,Y).config).onSuccess)==null?void 0:g.call(b,y,e,this.state.context,this,i)),await((h=(w=this.options).onSuccess)==null?void 0:h.call(w,y,e,this.state.context,i)),await((C=(k=o(this,Y).config).onSettled)==null?void 0:C.call(k,y,null,this.state.variables,this.state.context,this,i)),await((S=(f=this.options).onSettled)==null?void 0:S.call(f,y,null,e,this.state.context,i)),N(this,le,me).call(this,{type:"success",data:y}),y}catch(y){try{throw await((E=(P=o(this,Y).config).onError)==null?void 0:E.call(P,y,e,this.state.context,this,i)),await((M=(v=this.options).onError)==null?void 0:M.call(v,y,e,this.state.context,i)),await((Q=(K=o(this,Y).config).onSettled)==null?void 0:Q.call(K,void 0,y,this.state.variables,this.state.context,this,i)),await((F=(j=this.options).onSettled)==null?void 0:F.call(j,void 0,y,e,this.state.context,i)),y}finally{N(this,le,me).call(this,{type:"error",error:y})}}finally{o(this,Y).runNext(this)}}},gt=new WeakMap,oe=new WeakMap,Y=new WeakMap,Ne=new WeakMap,le=new WeakSet,me=function(e){const s=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),V.batch(()=>{o(this,oe).forEach(i=>{i.onMutationUpdate(e)}),o(this,Y).notify({mutation:this,type:"updated",action:e})})},hs);function ri(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ge,ae,mt,gs,ni=(gs=class extends ft{constructor(e={}){super();R(this,ge);R(this,ae);R(this,mt);this.config=e,x(this,ge,new Set),x(this,ae,new Map),x(this,mt,0)}build(e,s,i){const r=new ii({client:e,mutationCache:this,mutationId:++wt(this,mt)._,options:e.defaultMutationOptions(s),state:i});return this.add(r),r}add(e){o(this,ge).add(e);const s=vt(e);if(typeof s=="string"){const i=o(this,ae).get(s);i?i.push(e):o(this,ae).set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(o(this,ge).delete(e)){const s=vt(e);if(typeof s=="string"){const i=o(this,ae).get(s);if(i)if(i.length>1){const r=i.indexOf(e);r!==-1&&i.splice(r,1)}else i[0]===e&&o(this,ae).delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=vt(e);if(typeof s=="string"){const i=o(this,ae).get(s),r=i==null?void 0:i.find(a=>a.state.status==="pending");return!r||r===e}else return!0}runNext(e){var i;const s=vt(e);if(typeof s=="string"){const r=(i=o(this,ae).get(s))==null?void 0:i.find(a=>a!==e&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){V.batch(()=>{o(this,ge).forEach(e=>{this.notify({type:"removed",mutation:e})}),o(this,ge).clear(),o(this,ae).clear()})}getAll(){return Array.from(o(this,ge))}find(e){const s={exact:!0,...e};return this.getAll().find(i=>_t(s,i))}findAll(e={}){return this.getAll().filter(s=>_t(e,s))}notify(e){V.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return V.batch(()=>Promise.all(e.map(s=>s.continue().catch(ee))))}},ge=new WeakMap,ae=new WeakMap,mt=new WeakMap,gs);function vt(t){var e;return(e=t.options.scope)==null?void 0:e.id}var ce,ms,ai=(ms=class extends ft{constructor(e={}){super();R(this,ce);this.config=e,x(this,ce,new Map)}build(e,s,i){const r=s.queryKey,a=s.queryHash??Qt(r,s);let l=this.get(a);return l||(l=new Ys({client:e,queryKey:r,queryHash:a,options:e.defaultQueryOptions(s),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(l)),l}add(e){o(this,ce).has(e.queryHash)||(o(this,ce).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=o(this,ce).get(e.queryHash);s&&(e.destroy(),s===e&&o(this,ce).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){V.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return o(this,ce).get(e)}getAll(){return[...o(this,ce).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(i=>Vt(s,i))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(i=>Vt(e,i)):s}notify(e){V.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){V.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){V.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ce=new WeakMap,ms),U,xe,we,Ge,Ve,ve,_e,Xe,fs,oi=(fs=class{constructor(t={}){R(this,U);R(this,xe);R(this,we);R(this,Ge);R(this,Ve);R(this,ve);R(this,_e);R(this,Xe);x(this,U,t.queryCache||new ai),x(this,xe,t.mutationCache||new ni),x(this,we,t.defaultOptions||{}),x(this,Ge,new Map),x(this,Ve,new Map),x(this,ve,0)}mount(){wt(this,ve)._++,o(this,ve)===1&&(x(this,_e,$t.subscribe(async t=>{t&&(await this.resumePausedMutations(),o(this,U).onFocus())})),x(this,Xe,Ct.subscribe(async t=>{t&&(await this.resumePausedMutations(),o(this,U).onOnline())})))}unmount(){var t,e;wt(this,ve)._--,o(this,ve)===0&&((t=o(this,_e))==null||t.call(this),x(this,_e,void 0),(e=o(this,Xe))==null||e.call(this),x(this,Xe,void 0))}isFetching(t){return o(this,U).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return o(this,xe).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=o(this,U).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=o(this,U).build(this,e),i=s.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(Ce(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return o(this,U).findAll(t).map(({queryKey:e,state:s})=>{const i=s.data;return[e,i]})}setQueryData(t,e,s){const i=this.defaultQueryOptions({queryKey:t}),r=o(this,U).get(i.queryHash),a=r==null?void 0:r.state.data,l=Ks(e,a);if(l!==void 0)return o(this,U).build(this,i).setData(l,{...s,manual:!0})}setQueriesData(t,e,s){return V.batch(()=>o(this,U).findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=o(this,U).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=o(this,U);V.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=o(this,U);return V.batch(()=>(s.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},i=V.batch(()=>o(this,U).findAll(t).map(r=>r.cancel(s)));return Promise.all(i).then(ee).catch(ee)}invalidateQueries(t,e={}){return V.batch(()=>(o(this,U).findAll(t).forEach(s=>{s.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},i=V.batch(()=>o(this,U).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let a=r.fetch(void 0,s);return s.throwOnError||(a=a.catch(ee)),r.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(i).then(ee)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=o(this,U).build(this,e);return s.isStaleByTime(Ce(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ee).catch(ee)}fetchInfiniteQuery(t){return t.behavior=ss(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ee).catch(ee)}ensureInfiniteQueryData(t){return t.behavior=ss(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ct.isOnline()?o(this,xe).resumePausedMutations():Promise.resolve()}getQueryCache(){return o(this,U)}getMutationCache(){return o(this,xe)}getDefaultOptions(){return o(this,we)}setDefaultOptions(t){x(this,we,t)}setQueryDefaults(t,e){o(this,Ge).set(ot(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...o(this,Ge).values()],s={};return e.forEach(i=>{lt(t,i.queryKey)&&Object.assign(s,i.defaultOptions)}),s}setMutationDefaults(t,e){o(this,Ve).set(ot(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...o(this,Ve).values()],s={};return e.forEach(i=>{lt(t,i.mutationKey)&&Object.assign(s,i.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...o(this,we).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Qt(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ut&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...o(this,we).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){o(this,U).clear(),o(this,xe).clear()}},U=new WeakMap,xe=new WeakMap,we=new WeakMap,Ge=new WeakMap,Ve=new WeakMap,ve=new WeakMap,_e=new WeakMap,Xe=new WeakMap,fs),js=u.createContext(void 0),li=t=>{const e=u.useContext(js);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Rs=({client:t,children:e})=>(u.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),n.jsx(js.Provider,{value:t,children:e})),Ps=u.createContext(!1),ci=()=>u.useContext(Ps);Ps.Provider;function ui(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var di=u.createContext(ui()),hi=()=>u.useContext(di),gi=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},mi=t=>{u.useEffect(()=>{t.clearReset()},[t])},fi=({result:t,errorResetBoundary:e,throwOnError:s,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&t.data===void 0||Bs(s,[t.error,i])),pi=t=>{if(t.suspense){const s=r=>r==="static"?r:Math.max(r??1e3,1e3),i=t.staleTime;t.staleTime=typeof i=="function"?(...r)=>s(i(...r)):s(i),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},yi=(t,e)=>t.isLoading&&t.isFetching&&!e,bi=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,rs=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Si(t,e,s){var g,w,h,k,C;const i=ci(),r=hi(),a=li(),l=a.defaultQueryOptions(t);(w=(g=a.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||w.call(g,l),l._optimisticResults=i?"isRestoring":"optimistic",pi(l),gi(l,r),mi(r);const c=!a.getQueryCache().get(l.queryHash),[d]=u.useState(()=>new e(a,l)),m=d.getOptimisticResult(l),b=!i&&t.subscribed!==!1;if(u.useSyncExternalStore(u.useCallback(f=>{const S=b?d.subscribe(V.batchCalls(f)):ee;return d.updateResult(),S},[d,b]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),u.useEffect(()=>{d.setOptions(l)},[l,d]),bi(l,m))throw rs(l,d,r);if(fi({result:m,errorResetBoundary:r,throwOnError:l.throwOnError,query:a.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw m.error;if((k=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||k.call(h,l,m),l.experimental_prefetchInRender&&!Oe&&yi(m,i)){const f=c?rs(l,d,r):(C=a.getQueryCache().get(l.queryHash))==null?void 0:C.promise;f==null||f.catch(ee).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?m:d.trackResult(m)}function xi(t,e){return Si(t,Zs)}function ct(t,e){if(e.accessorFn)return e.accessorFn(t);if(e.accessorKey)return t[e.accessorKey]}function wi(t,e,s){if(t==null&&e==null)return 0;if(t==null)return 1;if(e==null)return-1;switch(s){case"number":case"currency":return Number(t)-Number(e);case"date":const i=t instanceof Date?t:new Date(String(t)),r=e instanceof Date?e:new Date(String(e));return i.getTime()-r.getTime();case"boolean":return(t===!0?1:0)-(e===!0?1:0);case"string":default:return String(t).localeCompare(String(e),void 0,{numeric:!0,sensitivity:"base"})}}function vi(t,e,s){if(!e.length)return t;const i=new Map(s.map(r=>[r.id,r]));return[...t].sort((r,a)=>{for(const l of e){const c=i.get(l.id);if(!c)continue;const d=ct(r,c),m=ct(a,c),b=wi(d,m,c.dataType);if(b!==0)return l.desc?-b:b}return 0})}function Ci(t,e,s){const i=e.value;if(e.operator==="isEmpty")return t==null||t===""||Array.isArray(t)&&t.length===0;if(e.operator==="isNotEmpty")return t!=null&&t!==""&&!(Array.isArray(t)&&t.length===0);if(t==null)return!1;const r=String(t).toLowerCase(),a=String(i).toLowerCase();switch(e.operator){case"equals":if(s==="number"||s==="currency")return Number(t)===Number(i);if(s==="boolean")return t===i;if(s==="date"){const l=t instanceof Date?t:new Date(String(t)),c=i instanceof Date?i:new Date(String(i));return l.toDateString()===c.toDateString()}return r===a;case"notEquals":return s==="number"||s==="currency"?Number(t)!==Number(i):s==="boolean"?t!==i:r!==a;case"contains":return r.includes(a);case"notContains":return!r.includes(a);case"startsWith":return r.startsWith(a);case"endsWith":return r.endsWith(a);case"gt":if(s==="date"){const l=t instanceof Date?t:new Date(String(t)),c=i instanceof Date?i:new Date(String(i));return l>c}return Number(t)>Number(i);case"gte":if(s==="date"){const l=t instanceof Date?t:new Date(String(t)),c=i instanceof Date?i:new Date(String(i));return l>=c}return Number(t)>=Number(i);case"lt":if(s==="date"){const l=t instanceof Date?t:new Date(String(t)),c=i instanceof Date?i:new Date(String(i));return l<c}return Number(t)<Number(i);case"lte":if(s==="date"){const l=t instanceof Date?t:new Date(String(t)),c=i instanceof Date?i:new Date(String(i));return l<=c}return Number(t)<=Number(i);case"between":if(Array.isArray(i)&&i.length===2){const[l,c]=i;if(s==="date"){const m=t instanceof Date?t:new Date(String(t)),b=l instanceof Date?l:new Date(String(l)),g=c instanceof Date?c:new Date(String(c));return m>=b&&m<=g}const d=Number(t);return d>=Number(l)&&d<=Number(c)}return!1;case"inList":return Array.isArray(i)?i.some(l=>String(l).toLowerCase()===r):!1;default:return!0}}function ji(t,e,s){if(!e.length)return t;const i=new Map(s.map(r=>[r.id,r]));return t.filter(r=>e.every(a=>{const l=i.get(a.id);if(!l)return!0;const c=ct(r,l);return Ci(c,a,l.dataType)}))}function Ri(t,e,s){if(!e||!e.trim())return t;const i=e.toLowerCase().trim();return t.filter(r=>s.some(a=>{if(a.enableFiltering===!1)return!1;const l=ct(r,a);return l==null?!1:String(l).toLowerCase().includes(i)}))}function Pi(t,e){const{pageIndex:s,pageSize:i}=e,r=s*i,a=r+i;return t.slice(r,a)}function ki(t,e){const{pageIndex:s,pageSize:i}=e,r=Math.ceil(t/i);return{pageIndex:s,pageSize:i,pageCount:r,totalRows:t,canPreviousPage:s>0,canNextPage:s<r-1}}function Fi(t,e,s,i,r,a){const l={id:s,index:e,original:t,isSelected:r,canSelect:a,getValue:c=>{const d=i.find(m=>m.id===c);if(d)return ct(t,d)},getVisibleCells:()=>i.map(c=>Ti(l,c))};return l}function Ti(t,e){const s=t.getValue(e.id);return{id:`${t.id}_${e.id}`,column:e,row:t,value:s,getValue:()=>s}}function Ii(t,e,s,i,r){const a=e.find(l=>l.id===t.id);return{id:t.id,columnDef:t,canSort:t.enableSorting??s,isSorted:a?a.desc?"desc":"asc":!1,size:i[t.id]??t.width??150,isResizing:r===t.id}}function Ei(t,e,s,i,r){return t.map(a=>Ii(a,e,s,i,r))}class Di{constructor(e){this.state={data:e.data,columns:e.columns,sorting:e.initialSorting??[],columnFilters:e.initialColumnFilters??[],globalFilter:e.initialGlobalFilter??"",pagination:e.initialPagination??{pageIndex:0,pageSize:10},rowSelection:e.initialRowSelection??{},columnSizing:{},resizingColumnId:null,enableSorting:e.enableSorting??!0,enableFiltering:e.enableFiltering??!0,enablePagination:e.enablePagination??!1,enableRowSelection:e.enableRowSelection??!1,enableMultiRowSelection:e.enableMultiRowSelection??!0,getRowId:e.getRowId??((s,i)=>String(i))},e.columns.forEach(s=>{s.width&&(this.state.columnSizing[s.id]=s.width)})}getAllRows(){return this.state.data}getFilteredRows(){let e=this.state.data;return this.state.globalFilter&&(e=Ri(e,this.state.globalFilter,this.state.columns)),this.state.columnFilters.length>0&&(e=ji(e,this.state.columnFilters,this.state.columns)),e}getSortedRows(){const e=this.getFilteredRows();return this.state.sorting.length>0?vi(e,this.state.sorting,this.state.columns):e}getPaginatedRows(){const e=this.getSortedRows();return this.state.enablePagination?Pi(e,this.state.pagination):e}getRowModel(){return this.getPaginatedRows().map((s,i)=>{const r=this.state.getRowId(s,i),a=this.state.rowSelection[r]??!1;return Fi(s,i,r,this.state.columns,a,this.state.enableRowSelection)})}getColumns(){return Ei(this.state.columns,this.state.sorting,this.state.enableSorting,this.state.columnSizing,this.state.resizingColumnId)}getSorting(){return this.state.sorting}setSorting(e){this.state.sorting=e}toggleSort(e,s=!1){const i=this.state.columns.find(a=>a.id===e);if(!i||i.enableSorting===!1)return;const r=this.state.sorting.find(a=>a.id===e);r?r.desc?this.state.sorting=this.state.sorting.filter(a=>a.id!==e):this.state.sorting=this.state.sorting.map(a=>a.id===e?{...a,desc:!0}:a):s?this.state.sorting=[...this.state.sorting,{id:e,desc:!1}]:this.state.sorting=[{id:e,desc:!1}]}clearSorting(){this.state.sorting=[]}getColumnFilters(){return this.state.columnFilters}setColumnFilter(e,s){s==null||s===""?this.state.columnFilters=this.state.columnFilters.filter(i=>i.id!==e):this.state.columnFilters.find(r=>r.id===e)?this.state.columnFilters=this.state.columnFilters.map(r=>r.id===e?{...r,value:s}:r):this.state.columnFilters=[...this.state.columnFilters,{id:e,operator:"contains",value:s}]}setColumnFilterWithOperator(e){this.state.columnFilters.find(i=>i.id===e.id)?this.state.columnFilters=this.state.columnFilters.map(i=>i.id===e.id?e:i):this.state.columnFilters=[...this.state.columnFilters,e]}removeColumnFilter(e){this.state.columnFilters=this.state.columnFilters.filter(s=>s.id!==e)}getGlobalFilter(){return this.state.globalFilter}setGlobalFilter(e){this.state.globalFilter=e}clearFilters(){this.state.columnFilters=[],this.state.globalFilter=""}getPagination(){return this.state.pagination}getPaginationInfo(){const e=this.getSortedRows().length;return ki(e,this.state.pagination)}setPageIndex(e){const s=this.getPaginationInfo();e>=0&&e<s.pageCount&&(this.state.pagination={...this.state.pagination,pageIndex:e})}setPageSize(e){this.state.pagination={...this.state.pagination,pageSize:e,pageIndex:0}}nextPage(){this.getPaginationInfo().canNextPage&&this.setPageIndex(this.state.pagination.pageIndex+1)}previousPage(){this.getPaginationInfo().canPreviousPage&&this.setPageIndex(this.state.pagination.pageIndex-1)}firstPage(){this.setPageIndex(0)}lastPage(){const e=this.getPaginationInfo();this.setPageIndex(e.pageCount-1)}getRowSelection(){return this.state.rowSelection}setRowSelection(e){this.state.rowSelection=e}toggleRowSelection(e){if(!this.state.enableRowSelection)return;const s=this.state.rowSelection[e];this.state.enableMultiRowSelection?this.state.rowSelection={...this.state.rowSelection,[e]:!s}:this.state.rowSelection=s?{}:{[e]:!0}}toggleAllRowsSelection(){if(!this.state.enableRowSelection||!this.state.enableMultiRowSelection)return;const e=this.getSortedRows();if(e.every((i,r)=>{const a=this.state.getRowId(i,r);return this.state.rowSelection[a]}))this.state.rowSelection={};else{const i={};e.forEach((r,a)=>{const l=this.state.getRowId(r,a);i[l]=!0}),this.state.rowSelection=i}}getIsAllRowsSelected(){const e=this.getSortedRows();return e.length===0?!1:e.every((s,i)=>{const r=this.state.getRowId(s,i);return this.state.rowSelection[r]})}getIsSomeRowsSelected(){const e=Object.values(this.state.rowSelection).filter(Boolean).length,s=this.getSortedRows();return e>0&&e<s.length}getSelectedRows(){return this.getSortedRows().filter((e,s)=>{const i=this.state.getRowId(e,s);return this.state.rowSelection[i]})}clearSelection(){this.state.rowSelection={}}getColumnSizing(){return this.state.columnSizing}setColumnSize(e,s){const i=this.state.columns.find(c=>c.id===e);if(!i)return;const r=i.minWidth??50,a=i.maxWidth??500,l=Math.max(r,Math.min(a,s));this.state.columnSizing={...this.state.columnSizing,[e]:l}}getColumnSize(e){const s=this.state.columns.find(i=>i.id===e);return this.state.columnSizing[e]??(s==null?void 0:s.width)??150}setResizingColumnId(e){this.state.resizingColumnId=e}getResizingColumnId(){return this.state.resizingColumnId}resetColumnSize(e){const s=this.state.columns.find(i=>i.id===e);s&&(this.state.columnSizing[e]=s.width??150)}setData(e){this.state.data=e}setColumns(e){this.state.columns=e}setOptions(e){this.state.enableSorting=e.enableSorting??!0,this.state.enableFiltering=e.enableFiltering??!0,this.state.enablePagination=e.enablePagination??!1,this.state.enableRowSelection=e.enableRowSelection??!1,this.state.enableMultiRowSelection=e.enableMultiRowSelection??!0}getState(){return{...this.state}}getRowById(e){return this.state.data.find((s,i)=>this.state.getRowId(s,i)===e)}getRowByIndex(e){return this.getSortedRows()[e]}getCellValue(e,s){const i=this.getRowById(e);if(!i)return;const r=this.state.columns.find(a=>a.id===s);if(r){if(r.accessorFn)return r.accessorFn(i);if(r.accessorKey)return i[r.accessorKey]}}updateRow(e,s){this.state.data=this.state.data.map((i,r)=>this.state.getRowId(i,r)===e?{...i,...s}:i)}setCellValue(e,s,i){const r=this.state.columns.find(a=>a.id===s);!r||!r.accessorKey||(this.state.data=this.state.data.map((a,l)=>this.state.getRowId(a,l)===e?{...a,[r.accessorKey]:i}:a))}addRow(e){this.state.data=[...this.state.data,e]}removeRow(e){this.state.data=this.state.data.filter((s,i)=>this.state.getRowId(s,i)!==e)}getColumnIds(){return this.state.columns.map(e=>e.id)}getColumnById(e){return this.state.columns.find(s=>s.id===e)}getColumnValues(e){const s=this.state.columns.find(i=>i.id===e);return s?this.getSortedRows().map(i=>{if(s.accessorFn)return s.accessorFn(i);if(s.accessorKey)return i[s.accessorKey]}):[]}}const ie={name:"light",mode:"light",colors:{bg:"#ffffff",bgHover:"#f9fafb",bgSelected:"#eff6ff",border:"#e5e7eb",text:"#111827",textSecondary:"#6b7280",textMuted:"#9ca3af",primary:"#3b82f6",primaryHover:"#2563eb",success:"#10b981",error:"#ef4444",warning:"#f59e0b"},spacing:{xs:"4px",sm:"8px",md:"12px",lg:"16px",xl:"24px"},radius:{sm:"4px",md:"6px",lg:"8px"},shadows:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)"},typography:{fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif",fontSizeXs:"11px",fontSizeSm:"13px",fontSizeMd:"14px",fontSizeLg:"16px"},transitions:{fast:"150ms ease",normal:"200ms ease"}},at={name:"dark",mode:"dark",colors:{bg:"#1f2937",bgHover:"#374151",bgSelected:"#1e3a5f",border:"#374151",text:"#f9fafb",textSecondary:"#9ca3af",textMuted:"#6b7280",primary:"#3b82f6",primaryHover:"#60a5fa",success:"#10b981",error:"#ef4444",warning:"#f59e0b"},spacing:ie.spacing,radius:ie.radius,shadows:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.2)",md:"0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.2)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.2)"},typography:ie.typography,transitions:ie.transitions};class Mi{constructor(e=ie){this.customThemes=new Map,this.styleElement=null,this.listeners=new Set,this.currentTheme=e,this.customThemes.set("light",ie),this.customThemes.set("dark",at)}getTheme(){return this.currentTheme}getThemeByName(e){return this.customThemes.get(e)}getThemeNames(){return Array.from(this.customThemes.keys())}setTheme(e){if(typeof e=="string"){const s=this.customThemes.get(e);if(!s){console.warn(`Theme "${e}" not found. Available themes: ${this.getThemeNames().join(", ")}`);return}this.currentTheme=s}else this.currentTheme=e;this.applyTheme(),this.notifyListeners()}registerTheme(e,s){const i=s.mode==="dark"?at:ie,r=this.mergeTheme(i,s);return r.name=e,this.customThemes.set(e,r),r}extendTheme(e,s){const i=this.customThemes.get(e)??ie;return this.mergeTheme(i,s)}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}generateCSSVariables(e=this.currentTheme){return`
:root {
  /* Colors */
  --tailgrid-bg: ${e.colors.bg};
  --tailgrid-bg-hover: ${e.colors.bgHover};
  --tailgrid-bg-selected: ${e.colors.bgSelected};
  --tailgrid-border: ${e.colors.border};
  --tailgrid-text: ${e.colors.text};
  --tailgrid-text-secondary: ${e.colors.textSecondary};
  --tailgrid-text-muted: ${e.colors.textMuted};
  --tailgrid-primary: ${e.colors.primary};
  --tailgrid-primary-hover: ${e.colors.primaryHover};
  --tailgrid-success: ${e.colors.success};
  --tailgrid-error: ${e.colors.error};
  --tailgrid-warning: ${e.colors.warning};

  /* Spacing */
  --tailgrid-spacing-xs: ${e.spacing.xs};
  --tailgrid-spacing-sm: ${e.spacing.sm};
  --tailgrid-spacing-md: ${e.spacing.md};
  --tailgrid-spacing-lg: ${e.spacing.lg};
  --tailgrid-spacing-xl: ${e.spacing.xl};

  /* Border Radius */
  --tailgrid-radius-sm: ${e.radius.sm};
  --tailgrid-radius-md: ${e.radius.md};
  --tailgrid-radius-lg: ${e.radius.lg};

  /* Shadows */
  --tailgrid-shadow-sm: ${e.shadows.sm};
  --tailgrid-shadow-md: ${e.shadows.md};
  ${e.shadows.lg?`--tailgrid-shadow-lg: ${e.shadows.lg};`:""}

  /* Typography */
  --tailgrid-font-family: ${e.typography.fontFamily};
  --tailgrid-font-size-xs: ${e.typography.fontSizeXs};
  --tailgrid-font-size-sm: ${e.typography.fontSizeSm};
  --tailgrid-font-size-md: ${e.typography.fontSizeMd};
  --tailgrid-font-size-lg: ${e.typography.fontSizeLg};

  /* Transitions */
  --tailgrid-transition-fast: ${e.transitions.fast};
  --tailgrid-transition-normal: ${e.transitions.normal};
}
`.trim()}generateScopedCSSVariables(e,s){return this.generateCSSVariables(e).replace(":root",s)}applyTheme(){typeof document>"u"||(this.styleElement||(this.styleElement=document.createElement("style"),this.styleElement.id="tailgrid-theme-variables",document.head.appendChild(this.styleElement)),this.styleElement.textContent=this.generateCSSVariables())}removeTheme(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}toggleMode(){const e=this.currentTheme.mode==="light"?at:ie;this.setTheme(e)}isDarkMode(){return this.currentTheme.mode==="dark"}getStyleObject(){const e=this.currentTheme;return{"--tailgrid-bg":e.colors.bg,"--tailgrid-bg-hover":e.colors.bgHover,"--tailgrid-bg-selected":e.colors.bgSelected,"--tailgrid-border":e.colors.border,"--tailgrid-text":e.colors.text,"--tailgrid-text-secondary":e.colors.textSecondary,"--tailgrid-text-muted":e.colors.textMuted,"--tailgrid-primary":e.colors.primary,"--tailgrid-primary-hover":e.colors.primaryHover,"--tailgrid-success":e.colors.success,"--tailgrid-error":e.colors.error,"--tailgrid-warning":e.colors.warning,"--tailgrid-spacing-xs":e.spacing.xs,"--tailgrid-spacing-sm":e.spacing.sm,"--tailgrid-spacing-md":e.spacing.md,"--tailgrid-spacing-lg":e.spacing.lg,"--tailgrid-spacing-xl":e.spacing.xl,"--tailgrid-radius-sm":e.radius.sm,"--tailgrid-radius-md":e.radius.md,"--tailgrid-radius-lg":e.radius.lg,"--tailgrid-shadow-sm":e.shadows.sm,"--tailgrid-shadow-md":e.shadows.md,"--tailgrid-font-family":e.typography.fontFamily,"--tailgrid-font-size-xs":e.typography.fontSizeXs,"--tailgrid-font-size-sm":e.typography.fontSizeSm,"--tailgrid-font-size-md":e.typography.fontSizeMd,"--tailgrid-font-size-lg":e.typography.fontSizeLg,"--tailgrid-transition-fast":e.transitions.fast,"--tailgrid-transition-normal":e.transitions.normal}}mergeTheme(e,s){return{name:s.name??e.name,mode:s.mode??e.mode,colors:{...e.colors,...s.colors},spacing:{...e.spacing,...s.spacing},radius:{...e.radius,...s.radius},shadows:{...e.shadows,...s.shadows},typography:{...e.typography,...s.typography},transitions:{...e.transitions,...s.transitions}}}notifyListeners(){this.listeners.forEach(e=>e(this.currentTheme))}}const Ni=new Mi;function ks(t){const e=t.mode==="dark"?at:ie;return{name:t.name??"custom",mode:t.mode??e.mode,colors:{...e.colors,...t.colors},spacing:{...e.spacing,...t.spacing},radius:{...e.radius,...t.radius},shadows:{...e.shadows,...t.shadows},typography:{...e.typography,...t.typography},transitions:{...e.transitions,...t.transitions}}}function Oi(t){var st,it,T,q,z,L;const e=u.useRef(null);e.current||(e.current=new Di({data:t.data,columns:t.columns,initialSorting:t.initialSorting,initialColumnFilters:(st=t.initialFilters)==null?void 0:st.columnFilters,initialGlobalFilter:(it=t.initialFilters)==null?void 0:it.globalFilter,initialPagination:t.initialPagination??{pageIndex:0,pageSize:t.pageSize??10},initialRowSelection:t.initialRowSelection,enableSorting:t.enableSorting,enableFiltering:t.enableFiltering,enablePagination:t.enablePagination,enableRowSelection:t.enableRowSelection,enableMultiRowSelection:t.enableMultiRowSelection,getRowId:t.getRowId}));const s=e.current;s.setOptions({enableSorting:t.enableSorting,enableFiltering:t.enableFiltering,enablePagination:t.enablePagination,enableRowSelection:t.enableRowSelection,enableMultiRowSelection:t.enableMultiRowSelection}),u.useEffect(()=>{s.setData(t.data)},[t.data,s]),u.useEffect(()=>{s.setColumns(t.columns)},[t.columns,s]);const[,i]=u.useState({}),r=u.useCallback(()=>i({}),[]),[a,l]=u.useState(t.initialSorting??[]),c=u.useCallback(p=>{var I;s.setSorting(p),l(p),(I=t.onSortingChange)==null||I.call(t,p)},[s,t]),d=u.useCallback((p,I=!1)=>{var rt;s.toggleSort(p,I);const _=s.getSorting();l(_),(rt=t.onSortingChange)==null||rt.call(t,_)},[s,t]),m=u.useCallback(()=>{var p;s.clearSorting(),l([]),(p=t.onSortingChange)==null||p.call(t,[])},[s,t]),[b,g]=u.useState(((T=t.initialFilters)==null?void 0:T.columnFilters)??[]),[w,h]=u.useState(((q=t.initialFilters)==null?void 0:q.globalFilter)??""),k=u.useCallback((p,I)=>{var rt;s.setColumnFilter(p,I);const _=s.getColumnFilters();g(_),(rt=t.onFiltersChange)==null||rt.call(t,{columnFilters:_,globalFilter:s.getGlobalFilter()})},[s,t]),C=u.useCallback(p=>{var I;s.setGlobalFilter(p),h(p),(I=t.onFiltersChange)==null||I.call(t,{columnFilters:s.getColumnFilters(),globalFilter:p})},[s,t]),f=u.useCallback(()=>{var p;s.clearFilters(),g([]),h(""),(p=t.onFiltersChange)==null||p.call(t,{columnFilters:[],globalFilter:""})},[s,t]),[S,P]=u.useState({pageIndex:((z=t.initialPagination)==null?void 0:z.pageIndex)??0,pageSize:((L=t.initialPagination)==null?void 0:L.pageSize)??t.pageSize??10}),E=u.useCallback(p=>{var _;s.setPageIndex(p);const I=s.getPagination();P(I),(_=t.onPaginationChange)==null||_.call(t,I)},[s,t]),v=u.useCallback(p=>{var _;s.setPageSize(p);const I=s.getPagination();P(I),(_=t.onPaginationChange)==null||_.call(t,I)},[s,t]),M=u.useCallback(()=>{var I;s.nextPage();const p=s.getPagination();P(p),(I=t.onPaginationChange)==null||I.call(t,p)},[s,t]),K=u.useCallback(()=>{var I;s.previousPage();const p=s.getPagination();P(p),(I=t.onPaginationChange)==null||I.call(t,p)},[s,t]),Q=u.useCallback(()=>{var I;s.firstPage();const p=s.getPagination();P(p),(I=t.onPaginationChange)==null||I.call(t,p)},[s,t]),j=u.useCallback(()=>{var I;s.lastPage();const p=s.getPagination();P(p),(I=t.onPaginationChange)==null||I.call(t,p)},[s,t]),[F,y]=u.useState(t.initialRowSelection??{}),W=u.useCallback(p=>{var _;s.toggleRowSelection(p);const I=s.getRowSelection();y(I),(_=t.onRowSelectionChange)==null||_.call(t,I)},[s,t]),D=u.useCallback(()=>{var I;s.toggleAllRowsSelection();const p=s.getRowSelection();y(p),(I=t.onRowSelectionChange)==null||I.call(t,p)},[s,t]),re=u.useCallback(()=>{var p;s.clearSelection(),y({}),(p=t.onRowSelectionChange)==null||p.call(t,{})},[s,t]),Je=u.useCallback(()=>s.getIsAllRowsSelected(),[s]),je=u.useCallback(()=>s.getIsSomeRowsSelected(),[s]),[Ae,ze]=u.useState(s.getColumnSizing()),[Le,H]=u.useState(null),yt=u.useCallback((p,I)=>{s.setColumnSize(p,I),ze(s.getColumnSizing())},[s]),Ye=u.useCallback(p=>s.getColumnSize(p),[s]),Ze=u.useCallback(p=>{s.resetColumnSize(p),ze(s.getColumnSizing())},[s]),bt=u.useCallback(p=>{s.setResizingColumnId(p),H(p)},[s]),Rt=u.useMemo(()=>s.getPaginationInfo(),[s,S,a,b,w]),et=u.useMemo(()=>s.getPaginatedRows(),[s,S,a,b,w,t.data]),St=u.useMemo(()=>s.getRowModel(),[s,S,a,b,w,F,t.data,t.enableRowSelection]),tt=u.useMemo(()=>s.getColumns(),[s,a,Ae,Le,t.columns]),xt=u.useMemo(()=>s.getSelectedRows(),[s,F]);return{rows:et,rowModel:St,columns:tt,columnDefs:t.columns,sorting:a,setSorting:c,toggleSort:d,clearSorting:m,columnFilters:b,globalFilter:w,setColumnFilter:k,setGlobalFilter:C,clearFilters:f,pagination:S,paginationInfo:Rt,setPageIndex:E,setPageSize:v,nextPage:M,previousPage:K,firstPage:Q,lastPage:j,rowSelection:F,selectedRows:xt,toggleRowSelection:W,toggleAllRowsSelection:D,clearSelection:re,getIsAllRowsSelected:Je,getIsSomeRowsSelected:je,columnSizing:Ae,setColumnSize:yt,getColumnSize:Ye,resetColumnSize:Ze,setResizingColumnId:bt,resizingColumnId:Le,getRowById:p=>s.getRowById(p),getRowByIndex:p=>s.getRowByIndex(p),getCellValue:(p,I)=>s.getCellValue(p,I),setCellValue:(p,I,_)=>{s.setCellValue(p,I,_),r()},updateRow:(p,I)=>{s.updateRow(p,I),r()},addRow:p=>{s.addRow(p),r()},removeRow:p=>{s.removeRow(p),r()},getColumnIds:()=>s.getColumnIds(),getColumnById:p=>s.getColumnById(p),getColumnValues:p=>s.getColumnValues(p)}}const Ai={container:"tailgrid",tableWrapper:"tailgrid-table-wrapper",table:"tailgrid-table",thead:"tailgrid-thead",headerRow:"tailgrid-header-row",th:"tailgrid-th",thSortable:"tailgrid-th-sortable",sortIndicator:"tailgrid-sort-indicator",tbody:"tailgrid-tbody",row:"tailgrid-row",rowSelected:"tailgrid-row-selected",rowHover:"tailgrid-row-hover",td:"tailgrid-td",toolbar:"tailgrid-toolbar",searchInput:"tailgrid-search-input",aiBar:"tailgrid-ai-bar",aiInput:"tailgrid-ai-input",aiLoading:"tailgrid-ai-loading",aiError:"tailgrid-ai-error",pagination:"tailgrid-pagination",paginationButton:"tailgrid-pagination-btn",paginationInfo:"tailgrid-pagination-info",pageSizeSelect:"tailgrid-page-size-select",resizer:"tailgrid-resizer",resizerActive:"tailgrid-resizer-active",filterPopover:"tailgrid-filter-popover",filterChip:"tailgrid-filter-chip",checkbox:"tailgrid-checkbox",checkboxChecked:"tailgrid-checkbox-checked",checkboxIndeterminate:"tailgrid-checkbox-indeterminate",loading:"tailgrid-loading",empty:"tailgrid-empty"},zi={container:"",tableWrapper:"",table:"",thead:"",headerRow:"",th:"",thSortable:"",sortIndicator:"",tbody:"",row:"",rowSelected:"",rowHover:"",td:"",toolbar:"",searchInput:"",aiBar:"",aiInput:"",aiLoading:"",aiError:"",pagination:"",paginationButton:"",paginationInfo:"",pageSizeSelect:"",resizer:"",resizerActive:"",filterPopover:"",filterChip:"",checkbox:"",checkboxChecked:"",checkboxIndeterminate:"",loading:"",empty:""};function Li(t,e){return e?{...t,...e}:t}function ue(...t){return t.filter(Boolean).join(" ")}function Wi({classNames:t,globalFilter:e,onGlobalFilterChange:s,enableGlobalFilter:i=!1,enableAI:r=!1,aiQueryBarMode:a="hidden",showAiBar:l=!1,onToggleAiBar:c,columns:d,columnFilters:m=[],onClearFilters:b}){const[g,w]=u.useState(!1),h=u.useCallback(f=>{const S=d==null?void 0:d.find(P=>P.id===f);return(S==null?void 0:S.header)||f},[d]),k=f=>f==null?"":typeof f=="string"?f:typeof f=="number"?String(f):typeof f=="boolean"?f?"Yes":"No":Array.isArray(f)?f.join(", "):JSON.stringify(f),C=m.length>0||e;return n.jsxs("div",{className:t.toolbar,children:[n.jsxs("div",{className:"tailgrid-toolbar-left",children:[i&&n.jsxs("div",{className:ue("tailgrid-search-wrapper",g&&"tailgrid-search-focused"),children:[n.jsxs("svg",{className:"tailgrid-search-icon",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"11",cy:"11",r:"8"}),n.jsx("path",{d:"m21 21-4.3-4.3"})]}),n.jsx("input",{type:"text",className:t.searchInput,placeholder:"Search...",value:e,onChange:f=>s(f.target.value),onFocus:()=>w(!0),onBlur:()=>w(!1),"aria-label":"Search all columns"}),e&&n.jsx("button",{className:"tailgrid-search-clear",onClick:()=>s(""),"aria-label":"Clear search",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),r&&a==="toggle"&&n.jsxs("button",{className:ue("tailgrid-ai-toggle",l&&"tailgrid-ai-toggle-active"),onClick:c,"aria-label":l?"Hide AI query bar":"Show AI query bar","aria-expanded":l,children:[n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M12 8V4H8"}),n.jsx("rect",{width:"16",height:"12",x:"4",y:"8",rx:"2"}),n.jsx("path",{d:"M2 14h2"}),n.jsx("path",{d:"M20 14h2"}),n.jsx("path",{d:"M15 13v2"}),n.jsx("path",{d:"M9 13v2"})]}),n.jsx("span",{children:"AI"}),n.jsx("kbd",{className:"tailgrid-shortcut-hint",children:"K"})]})]}),n.jsx("div",{className:"tailgrid-toolbar-right",children:C&&n.jsxs("div",{className:"tailgrid-filter-chips",children:[e&&n.jsxs("span",{className:t.filterChip,children:[n.jsx("span",{className:"tailgrid-filter-chip-label",children:"Search:"}),n.jsxs("span",{className:"tailgrid-filter-chip-value",children:['"',e,'"']})]}),m.map(f=>n.jsxs("span",{className:t.filterChip,children:[n.jsxs("span",{className:"tailgrid-filter-chip-label",children:[h(f.id),":"]}),n.jsx("span",{className:"tailgrid-filter-chip-value",children:k(f.value)})]},f.id)),b&&n.jsx("button",{className:"tailgrid-clear-filters",onClick:b,"aria-label":"Clear all filters",children:"Clear all"})]})})]})}function Ki({classNames:t,placeholder:e='Ask in natural language... (e.g., "show customers in California")',onQuery:s,loading:i=!1,error:r=null,onClearError:a,disabled:l=!1,autoFocus:c=!1}){var f,S;const[d,m]=u.useState(""),[b,g]=u.useState(null),w=u.useRef(null);u.useEffect(()=>{c&&w.current&&w.current.focus()},[c]);const h=u.useCallback(async P=>{if(P.preventDefault(),!(!d.trim()||i||l))try{const E=await s(d.trim());E&&g(E)}catch{}},[d,i,l,s]),k=u.useCallback(()=>{var P;m(""),g(null),a==null||a(),(P=w.current)==null||P.focus()},[a]),C=u.useCallback(P=>{P.key==="Escape"&&k()},[k]);return n.jsxs("div",{className:t.aiBar,children:[n.jsxs("form",{onSubmit:h,className:"tailgrid-ai-form",children:[n.jsx("div",{className:"tailgrid-ai-icon",children:i?n.jsx("svg",{className:"tailgrid-ai-spinner",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M12 8V4H8"}),n.jsx("rect",{width:"16",height:"12",x:"4",y:"8",rx:"2"}),n.jsx("path",{d:"M2 14h2"}),n.jsx("path",{d:"M20 14h2"}),n.jsx("path",{d:"M15 13v2"}),n.jsx("path",{d:"M9 13v2"})]})}),n.jsx("input",{ref:w,type:"text",className:ue(t.aiInput,r&&"tailgrid-ai-input-error"),placeholder:e,value:d,onChange:P=>m(P.target.value),onKeyDown:C,disabled:l||i,"aria-label":"AI query input","aria-describedby":r?"ai-error":void 0}),d&&!i&&n.jsx("button",{type:"button",className:"tailgrid-ai-clear",onClick:k,"aria-label":"Clear query",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})}),n.jsx("button",{type:"submit",className:"tailgrid-ai-submit",disabled:!d.trim()||i||l,"aria-label":"Execute AI query",children:i?"Processing...":n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Ask"}),n.jsx("kbd",{className:"tailgrid-ai-enter-hint",children:""})]})})]}),r&&n.jsxs("div",{id:"ai-error",className:t.aiError,role:"alert",children:[n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),n.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]}),n.jsx("span",{children:r}),a&&n.jsx("button",{type:"button",className:"tailgrid-ai-error-dismiss",onClick:a,"aria-label":"Dismiss error",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),b&&!r&&b.confidence>0&&n.jsxs("div",{className:"tailgrid-ai-success",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M20 6 9 17l-5-5"})}),n.jsxs("span",{children:["Applied ",((f=b.filters)==null?void 0:f.length)||0," filter(s)",(S=b.sorting)!=null&&S.length?` and ${b.sorting.length} sort(s)`:"",b.confidence<.8&&n.jsxs("span",{className:"tailgrid-ai-confidence-warning",children:[" ","(confidence: ",Math.round(b.confidence*100),"%)"]})]})]})]})}function ns({classNames:t,checked:e,indeterminate:s=!1,disabled:i=!1,onChange:r,onClick:a,"aria-label":l}){const c=u.useRef(null);return u.useEffect(()=>{c.current&&(c.current.indeterminate=s)},[s]),n.jsxs("label",{className:ue(t.checkbox,e&&t.checkboxChecked,s&&t.checkboxIndeterminate,i&&"tailgrid-checkbox-disabled"),children:[n.jsx("input",{ref:c,type:"checkbox",className:"tailgrid-checkbox-input",checked:e,disabled:i,onChange:r,onClick:a,"aria-label":l}),n.jsxs("span",{className:"tailgrid-checkbox-visual",children:[e&&!s&&n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M20 6 9 17l-5-5"})}),s&&n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M5 12h14"})})]})]})}function qi({classNames:t,columnId:e,columnDef:s,size:i,isResizing:r,onResize:a,onResizeStart:l,onResizeEnd:c,onResetSize:d}){const m=u.useRef(0),b=u.useRef(0),g=u.useCallback(S=>{const P=S.clientX-m.current,E=s.minWidth??50,v=s.maxWidth??500,M=Math.max(E,Math.min(v,b.current+P));a(M)},[s.minWidth,s.maxWidth,a]),w=u.useCallback(()=>{c(),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",w)},[g,c]),h=u.useCallback(S=>{S.preventDefault(),S.stopPropagation(),m.current=S.clientX,b.current=i,l(),document.addEventListener("mousemove",g),document.addEventListener("mouseup",w)},[i,l,g,w]),k=u.useCallback(S=>{S.stopPropagation();const P=S.touches[0];if(!P)return;m.current=P.clientX,b.current=i,l();const E=M=>{const K=M.touches[0];if(!K)return;const Q=K.clientX-m.current,j=s.minWidth??50,F=s.maxWidth??500,y=Math.max(j,Math.min(F,b.current+Q));a(y)},v=()=>{c(),document.removeEventListener("touchmove",E),document.removeEventListener("touchend",v)};document.addEventListener("touchmove",E),document.addEventListener("touchend",v)},[i,s.minWidth,s.maxWidth,a,l,c]);u.useEffect(()=>()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",w)},[g,w]);const C=u.useCallback(()=>{d()},[d]),f=u.useCallback(S=>{if(S.key==="ArrowLeft"||S.key==="ArrowRight"){S.preventDefault();const P=S.key==="ArrowRight"?10:-10,E=s.minWidth??50,v=s.maxWidth??500,M=Math.max(E,Math.min(v,i+P));a(M)}},[i,s.minWidth,s.maxWidth,a]);return n.jsx("div",{className:ue(t.resizer,r&&t.resizerActive),onDoubleClick:C,onMouseDown:h,onTouchStart:k,role:"separator","aria-orientation":"vertical","aria-label":`Resize ${e} column`,tabIndex:0,onKeyDown:f})}const Qi=["contains","notContains","equals","notEquals","startsWith","endsWith","isEmpty","isNotEmpty"],Ui=["equals","notEquals","gt","gte","lt","lte","between","isEmpty","isNotEmpty"],$i=["equals","notEquals","gt","gte","lt","lte","between","isEmpty","isNotEmpty"],Hi=["equals","notEquals"],Bi={equals:"Equals",notEquals:"Not equals",contains:"Contains",notContains:"Does not contain",startsWith:"Starts with",endsWith:"Ends with",gt:"Greater than",gte:"Greater than or equal",lt:"Less than",lte:"Less than or equal",between:"Between",inList:"In list",isEmpty:"Is empty",isNotEmpty:"Is not empty"};function Gi(t){switch(t){case"number":case"currency":return Ui;case"date":return $i;case"boolean":return Hi;default:return Qi}}function Vi({column:t,filter:e,onFilterChange:s,classNames:i,operators:r,ariaLabels:a}){const[l,c]=u.useState(!1),[d,m]=u.useState((e==null?void 0:e.operator)||"contains"),[b,g]=u.useState(String((e==null?void 0:e.value)??"")),[w,h]=u.useState(""),[k,C]=u.useState({top:0,left:0}),f=u.useRef(null),S=u.useRef(null),P=r||Gi(t.dataType);u.useEffect(()=>{if(l&&S.current){const y=S.current.getBoundingClientRect();C({top:y.bottom+window.scrollY+4,left:y.right+window.scrollX-240})}},[l]),u.useEffect(()=>{function y(W){f.current&&!f.current.contains(W.target)&&S.current&&!S.current.contains(W.target)&&c(!1)}if(l)return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[l]);const E=u.useCallback(y=>{var W;y.key==="Escape"&&(c(!1),(W=S.current)==null||W.focus())},[]),v=u.useCallback(()=>{d==="isEmpty"||d==="isNotEmpty"?s({id:t.id,operator:d,value:null}):d==="between"?s({id:t.id,operator:d,value:[M(b),M(w)]}):b.trim()&&s({id:t.id,operator:d,value:M(b)}),c(!1)},[t.id,d,b,w,s]),M=y=>{if(!y)return y;switch(t.dataType){case"number":case"currency":return parseFloat(y)||0;case"boolean":return y==="true";case"date":return new Date(y).toISOString();default:return y}},K=u.useCallback(()=>{g(""),h(""),m("contains"),s(null),c(!1)},[s]),Q=!!e,j=d!=="isEmpty"&&d!=="isNotEmpty",F=d==="between";return n.jsxs("div",{className:"tailgrid-column-filter",children:[n.jsx("button",{ref:S,type:"button",className:ue("tailgrid-filter-trigger",Q&&"tailgrid-filter-trigger-active"),onClick:()=>c(!l),"aria-label":(a==null?void 0:a.filterColumn)||`Filter ${t.header}`,"aria-expanded":l,"aria-haspopup":"dialog",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:Q?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})}),l&&Os.createPortal(n.jsx("div",{ref:f,className:ue(i.filterPopover,"tailgrid-filter-popover"),role:"dialog","aria-label":`Filter options for ${t.header}`,onKeyDown:E,style:{position:"fixed",top:k.top,left:Math.max(8,k.left),zIndex:9999},children:n.jsxs("div",{className:"tailgrid-filter-content",children:[n.jsxs("div",{className:"tailgrid-filter-field",children:[n.jsx("label",{htmlFor:`filter-operator-${t.id}`,className:"tailgrid-filter-label",children:(a==null?void 0:a.operator)||"Operator"}),n.jsx("select",{id:`filter-operator-${t.id}`,className:"tailgrid-filter-select",value:d,onChange:y=>m(y.target.value),children:P.map(y=>n.jsx("option",{value:y,children:Bi[y]},y))})]}),j&&n.jsxs("div",{className:"tailgrid-filter-field",children:[n.jsx("label",{htmlFor:`filter-value-${t.id}`,className:"tailgrid-filter-label",children:(a==null?void 0:a.value)||"Value"}),t.dataType==="boolean"?n.jsxs("select",{id:`filter-value-${t.id}`,className:"tailgrid-filter-select",value:b,onChange:y=>g(y.target.value),children:[n.jsx("option",{value:"",children:"Select..."}),n.jsx("option",{value:"true",children:"True"}),n.jsx("option",{value:"false",children:"False"})]}):t.dataType==="date"?n.jsx("input",{id:`filter-value-${t.id}`,type:"date",className:"tailgrid-filter-input",value:b,onChange:y=>g(y.target.value)}):t.dataType==="number"||t.dataType==="currency"?n.jsx("input",{id:`filter-value-${t.id}`,type:"number",className:"tailgrid-filter-input",value:b,onChange:y=>g(y.target.value),placeholder:"Enter number..."}):n.jsx("input",{id:`filter-value-${t.id}`,type:"text",className:"tailgrid-filter-input",value:b,onChange:y=>g(y.target.value),placeholder:"Enter value..."})]}),F&&n.jsxs("div",{className:"tailgrid-filter-field",children:[n.jsx("label",{htmlFor:`filter-value2-${t.id}`,className:"tailgrid-filter-label",children:"And"}),t.dataType==="date"?n.jsx("input",{id:`filter-value2-${t.id}`,type:"date",className:"tailgrid-filter-input",value:w,onChange:y=>h(y.target.value)}):n.jsx("input",{id:`filter-value2-${t.id}`,type:"number",className:"tailgrid-filter-input",value:w,onChange:y=>h(y.target.value),placeholder:"Enter number..."})]}),n.jsxs("div",{className:"tailgrid-filter-actions",children:[n.jsx("button",{type:"button",className:"tailgrid-filter-btn tailgrid-filter-btn-clear",onClick:K,"aria-label":(a==null?void 0:a.clearFilter)||"Clear filter",children:"Clear"}),n.jsx("button",{type:"button",className:"tailgrid-filter-btn tailgrid-filter-btn-apply",onClick:v,children:"Apply"})]})]})}),document.body)]})}function $({className:t,classNames:e,theme:s="default",pageSize:i,height:r,maxHeight:a,minHeight:l,autoResize:c=!1,loading:d=!1,emptyMessage:m="No data available",loadingMessage:b="Loading...",aiProvider:g,aiQueryBarMode:w="hidden",aiQueryBarConfig:h,onAIQuery:k,enableAccessiblePrimitives:C=!1,enableKeyboardNavigation:f=!1,a11yConfig:S,renderHeaderCell:P,renderCell:E,renderToolbar:v,renderPagination:M,renderEmpty:K,renderLoading:Q,...j}){var it;const F=u.useMemo(()=>Li(s==="none"?zi:Ai,e),[e,s]),y=j.enableGlobalFilter||j.enableAI||j.enableFiltering,W=u.useMemo(()=>i&&!j.initialPagination?{...j,initialPagination:{pageIndex:0,pageSize:i}}:j,[j,i]),D=Oi(W),{rows:re,rowModel:Je,columns:je,paginationInfo:Ae,globalFilter:ze,setGlobalFilter:Le}=D,[H,yt]=u.useState(!1),[Ye,Ze]=u.useState(null),[bt,Rt]=u.useState(w==="visible"),et=u.useCallback(async T=>{if(!(!g||!j.enableAI)){yt(!0),Ze(null);try{const q=j.columns.map(L=>({id:L.id,name:L.header,type:L.dataType||"string",description:L.header})),z=await g.parseQuery(T,q);return z.filters&&z.filters.length>0&&z.filters.forEach(L=>{D.setColumnFilter(L.id,L.value)}),z.sorting&&z.sorting.length>0&&D.setSorting(z.sorting.map(L=>({id:L.id,desc:L.desc}))),k==null||k(z),z}catch(q){const z=q instanceof Error?q.message:"AI query failed";throw Ze(z),q}finally{yt(!1)}}},[g,j.enableAI,j.columns,D,k]),St=u.useMemo(()=>({...D,gridColumns:je,columns:W.columns,aiQuery:W.enableAI&&g?et:void 0,aiLoading:H,aiError:Ye}),[D,je,W.columns,W.enableAI,g,et,H,Ye]),tt=u.useCallback(()=>{w==="toggle"&&Rt(T=>!T)},[w]);As.useEffect(()=>{if(w==="hidden"||!j.enableAI)return;const T=(h==null?void 0:h.shortcut)||"mod+k",q=z=>{const L=z.metaKey||z.ctrlKey,p=z.key.toLowerCase();if(T==="mod+k"&&L&&p==="k"){z.preventDefault(),w==="toggle"&&tt();const I=document.querySelector(`.${F.aiInput}`);I==null||I.focus()}};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[w,h==null?void 0:h.shortcut,j.enableAI,tt,F.aiInput]);const xt=ue(F.container,s==="dark"&&"tailgrid-dark",c&&"tailgrid-auto-resize",t),st=u.useMemo(()=>{const T={};return r&&(T.height=typeof r=="number"?`${r}px`:r),a&&(T.maxHeight=typeof a=="number"?`${a}px`:a,T.overflow="auto"),l&&(T.minHeight=typeof l=="number"?`${l}px`:l),c&&(T.height="100%",T.display="flex",T.flexDirection="column"),T},[r,a,l,c]);return d?n.jsx("div",{className:xt,style:st,children:Q?Q():n.jsx("div",{className:F.loading,children:b})}):n.jsxs("div",{className:xt,style:st,children:[v?v(St):y?n.jsx(Wi,{classNames:F,globalFilter:ze,onGlobalFilterChange:Le,enableGlobalFilter:j.enableGlobalFilter,enableAI:j.enableAI,aiQueryBarMode:w,showAiBar:bt,onToggleAiBar:tt,columns:j.columns,columnFilters:D.columnFilters,onClearFilters:D.clearFilters}):null,j.enableAI&&g&&(bt||w==="visible")&&n.jsx(Ki,{classNames:F,placeholder:(h==null?void 0:h.placeholder)||'Ask in natural language... (e.g., "show customers in California")',onQuery:et,loading:H,error:Ye,onClearError:()=>Ze(null)}),n.jsx("div",{className:F.tableWrapper,style:c||r||a?{flex:1,overflow:"auto"}:void 0,children:re.length===0?K?K():n.jsx("div",{className:F.empty,children:m}):n.jsxs("table",{className:F.table,children:[n.jsx("thead",{className:F.thead,children:n.jsxs("tr",{className:F.headerRow,children:[j.enableRowSelection&&n.jsx("th",{className:F.th,style:{width:40},children:j.enableMultiRowSelection!==!1&&n.jsx(ns,{classNames:F,checked:D.getIsAllRowsSelected(),indeterminate:D.getIsSomeRowsSelected(),onChange:()=>D.toggleAllRowsSelection(),"aria-label":((it=S==null?void 0:S.ariaLabels)==null?void 0:it.selectAllRows)||"Select all rows"})}),je.map(T=>{const q=T.columnDef,z=T.canSort,L=T.isSorted;return n.jsxs("th",{className:ue(F.th,z&&F.thSortable),style:{width:T.size,position:"relative"},onClick:z?()=>D.toggleSort(T.id):void 0,"aria-sort":L==="asc"?"ascending":L==="desc"?"descending":"none",children:[P&&q?P(q):n.jsxs("div",{className:"tailgrid-th-content",children:[q.header,L&&n.jsx("span",{className:F.sortIndicator,children:L==="asc"?" ":" "}),j.enableFiltering&&(q==null?void 0:q.enableFiltering)!==!1&&n.jsx("span",{onClick:p=>p.stopPropagation(),children:n.jsx(Vi,{column:q,filter:D.columnFilters.find(p=>p.id===T.id),onFilterChange:p=>{p?D.setColumnFilter(T.id,p.value):D.setColumnFilter(T.id,void 0)},classNames:F})})]}),j.enableColumnResizing&&(q==null?void 0:q.enableResizing)!==!1&&n.jsx(qi,{classNames:F,columnId:T.id,columnDef:q,size:T.size,isResizing:T.isResizing,onResize:p=>D.setColumnSize(T.id,p),onResizeStart:()=>D.setResizingColumnId(T.id),onResizeEnd:()=>D.setResizingColumnId(null),onResetSize:()=>D.resetColumnSize(T.id)})]},T.id)})]})}),n.jsx("tbody",{className:F.tbody,children:Je.map(T=>{var q;return n.jsxs("tr",{className:ue(F.row,T.isSelected&&F.rowSelected),onClick:j.enableRowSelection?()=>D.toggleRowSelection(T.id):void 0,"data-selected":T.isSelected,children:[j.enableRowSelection&&n.jsx("td",{className:F.td,children:n.jsx(ns,{classNames:F,checked:T.isSelected,disabled:!T.canSelect,onChange:()=>D.toggleRowSelection(T.id),onClick:z=>z.stopPropagation(),"aria-label":((q=S==null?void 0:S.ariaLabels)==null?void 0:q.selectRow)||"Select row"})}),T.getVisibleCells().map(z=>{const L=z.column;return n.jsx("td",{className:F.td,style:{textAlign:(L==null?void 0:L.align)||"left"},children:E&&L?E(z.value,T.original,L):L.cell?L.cell({value:z.value,row:T.original,column:L,rowIndex:T.index}):String(z.value??"")},z.id)})]},T.id)})})]})}),j.enablePagination&&re.length>0&&(M?M(St):n.jsx(_i,{classNames:F,paginationInfo:Ae,pageSizeOptions:j.pageSizeOptions,onPageIndexChange:D.setPageIndex,onPageSizeChange:D.setPageSize,onFirstPage:D.firstPage,onPreviousPage:D.previousPage,onNextPage:D.nextPage,onLastPage:D.lastPage,a11yConfig:S}))]})}function _i({classNames:t,paginationInfo:e,pageSizeOptions:s=[10,20,50,100],onPageIndexChange:i,onPageSizeChange:r,onFirstPage:a,onPreviousPage:l,onNextPage:c,onLastPage:d,a11yConfig:m}){var w,h,k,C;const b=e.pageIndex*e.pageSize+1,g=Math.min((e.pageIndex+1)*e.pageSize,e.totalRows);return n.jsxs("div",{className:t.pagination,children:[n.jsxs("div",{className:t.paginationInfo,children:["Showing ",b," to ",g," of ",e.totalRows]}),n.jsxs("div",{className:"tailgrid-pagination-controls",children:[n.jsx("button",{className:t.paginationButton,onClick:a,disabled:!e.canPreviousPage,"aria-label":((w=m==null?void 0:m.ariaLabels)==null?void 0:w.firstPage)||"Go to first page",children:"<<"}),n.jsx("button",{className:t.paginationButton,onClick:l,disabled:!e.canPreviousPage,"aria-label":((h=m==null?void 0:m.ariaLabels)==null?void 0:h.previousPage)||"Go to previous page",children:"<"}),n.jsxs("span",{className:"tailgrid-pagination-page",children:["Page ",e.pageIndex+1," of ",e.pageCount]}),n.jsx("button",{className:t.paginationButton,onClick:c,disabled:!e.canNextPage,"aria-label":((k=m==null?void 0:m.ariaLabels)==null?void 0:k.nextPage)||"Go to next page",children:">"}),n.jsx("button",{className:t.paginationButton,onClick:d,disabled:!e.canNextPage,"aria-label":((C=m==null?void 0:m.ariaLabels)==null?void 0:C.lastPage)||"Go to last page",children:">>"}),n.jsx("select",{className:t.pageSizeSelect,value:e.pageSize,onChange:f=>r(Number(f.target.value)),"aria-label":"Rows per page",children:s.map(f=>n.jsxs("option",{value:f,children:[f," / page"]},f))})]})]})}function Xi(t={}){const{initialTheme:e,themeEngine:s=Ni,autoApply:i=!0,respectSystemPreference:r=!1}=t,[a,l]=u.useState(()=>typeof e=="string"?s.getThemeByName(e)??ie:e||s.getTheme());u.useEffect(()=>{if(!r)return;const h=window.matchMedia("(prefers-color-scheme: dark)"),k=C=>{const S=C.matches?at:ie;s.setTheme(S),l(S)};return k(h),h.addEventListener("change",k),()=>h.removeEventListener("change",k)},[r,s]),u.useEffect(()=>s.subscribe(k=>{l(k)}),[s]),u.useEffect(()=>(i&&s.applyTheme(),()=>{i&&s.removeTheme()}),[i,s]);const c=u.useCallback(h=>{s.setTheme(h)},[s]),d=u.useCallback(()=>{s.toggleMode()},[s]),m=u.useCallback((h,k)=>s.registerTheme(h,k),[s]),b=u.useCallback(()=>s.getStyleObject(),[s]),g=u.useCallback(()=>s.generateCSSVariables(),[s]),w=u.useMemo(()=>s.getThemeNames(),[s]);return{theme:a,themeName:a.name,isDarkMode:a.mode==="dark",setTheme:c,toggleDarkMode:d,registerTheme:m,getStyleObject:b,getCSSVariables:g,availableThemes:w,engine:s}}const Fs=u.createContext(null);function pt({children:t,initialTheme:e,themeEngine:s,autoApply:i=!0,respectSystemPreference:r=!1}){const a=Xi({initialTheme:e,themeEngine:s,autoApply:i,respectSystemPreference:r});return n.jsx(Fs.Provider,{value:a,children:t})}function jt(){const t=u.useContext(Fs);if(!t)throw new Error("useThemeContext must be used within a ThemeProvider");return t}function Ts({className:t="tailgrid-theme-toggle",lightLabel:e=" Light",darkLabel:s=" Dark"}){const{isDarkMode:i,toggleDarkMode:r}=jt();return n.jsx("button",{className:t,onClick:r,type:"button",children:i?e:s})}function Ji({className:t="tailgrid-theme-selector",placeholder:e="Select theme..."}){const{themeName:s,setTheme:i,availableThemes:r}=jt();return n.jsxs("select",{className:t,value:s,onChange:a=>i(a.target.value),"aria-label":"Select theme",children:[n.jsx("option",{value:"",disabled:!0,children:e}),r.map(a=>n.jsx("option",{value:a,children:a.charAt(0).toUpperCase()+a.slice(1)},a))]})}function Is({queryKey:t,fetchFn:e,pageSize:s=10,staleTime:i=3e4,enabled:r=!0}){const[a,l]=u.useState(1),[c,d]=u.useState(s),[m,b]=u.useState([]),[g,w]=u.useState([]),[h,k]=u.useState(""),C=u.useMemo(()=>[t,{page:a,pageSize:c,sorting:m,filters:g,globalFilter:h}],[t,a,c,m,g,h]),{data:f,isLoading:S,isFetching:P,error:E,refetch:v}=xi({queryKey:C,queryFn:()=>e({page:a,pageSize:c,sorting:m,filters:g,globalFilter:h}),staleTime:i,enabled:r,placeholderData:Us}),M=(f==null?void 0:f.data)??[],K=(f==null?void 0:f.total)??0,Q=Math.ceil(K/c),j=a>1,F=a<Q,y=u.useCallback(H=>{l(Math.max(1,H))},[]),W=u.useCallback(H=>{d(H),l(1)},[]),D=u.useCallback(()=>{F&&l(H=>H+1)},[F]),re=u.useCallback(()=>{j&&l(H=>H-1)},[j]),Je=u.useCallback(()=>{l(1)},[]),je=u.useCallback(()=>{l(Q)},[Q]),Ae=u.useCallback(H=>{b(H),l(1)},[]),ze=u.useCallback(H=>{w(H),l(1)},[]),Le=u.useCallback(H=>{k(H),l(1)},[]);return{data:M,isLoading:S,isFetching:P,error:E,totalRows:K,totalPages:Q,page:a,pageSize:c,canPreviousPage:j,canNextPage:F,setPage:y,setPageSize:W,nextPage:D,previousPage:re,firstPage:Je,lastPage:je,sorting:m,setSorting:Ae,filters:g,setFilters:ze,globalFilter:h,setGlobalFilter:Le,refetch:v}}const Es=new oi({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),G=[{id:1,name:"Sarah Chen",email:"sarah.chen@company.com",department:"Engineering",role:"Senior Developer",status:"active",salary:145e3,joinDate:"2021-03-15",performance:95,location:"San Francisco"},{id:2,name:"Marcus Johnson",email:"marcus.j@company.com",department:"Engineering",role:"Tech Lead",status:"active",salary:175e3,joinDate:"2019-08-20",performance:98,location:"New York"},{id:3,name:"Emily Rodriguez",email:"emily.r@company.com",department:"Design",role:"UX Designer",status:"active",salary:95e3,joinDate:"2022-01-10",performance:88,location:"Austin"},{id:4,name:"James Wilson",email:"james.w@company.com",department:"Sales",role:"Account Executive",status:"active",salary:85e3,joinDate:"2022-06-01",performance:92,location:"Chicago"},{id:5,name:"Priya Patel",email:"priya.p@company.com",department:"Engineering",role:"DevOps Engineer",status:"on-leave",salary:13e4,joinDate:"2020-11-15",performance:90,location:"Seattle"},{id:6,name:"Michael Brown",email:"michael.b@company.com",department:"Marketing",role:"Marketing Manager",status:"active",salary:11e4,joinDate:"2021-04-20",performance:85,location:"Los Angeles"},{id:7,name:"Lisa Thompson",email:"lisa.t@company.com",department:"HR",role:"HR Director",status:"active",salary:125e3,joinDate:"2018-09-01",performance:91,location:"Boston"},{id:8,name:"David Kim",email:"david.k@company.com",department:"Engineering",role:"Junior Developer",status:"active",salary:75e3,joinDate:"2023-02-28",performance:82,location:"Denver"},{id:9,name:"Amanda Foster",email:"amanda.f@company.com",department:"Finance",role:"Financial Analyst",status:"active",salary:95e3,joinDate:"2021-07-12",performance:87,location:"Miami"},{id:10,name:"Robert Garcia",email:"robert.g@company.com",department:"Sales",role:"Sales Director",status:"active",salary:155e3,joinDate:"2017-03-05",performance:94,location:"Phoenix"},{id:11,name:"Jennifer Lee",email:"jennifer.l@company.com",department:"Engineering",role:"QA Engineer",status:"inactive",salary:88e3,joinDate:"2020-05-18",performance:78,location:"Portland"},{id:12,name:"Christopher Davis",email:"chris.d@company.com",department:"Product",role:"Product Manager",status:"active",salary:14e4,joinDate:"2019-12-01",performance:93,location:"San Francisco"},{id:13,name:"Michelle Wang",email:"michelle.w@company.com",department:"Design",role:"UI Designer",status:"active",salary:92e3,joinDate:"2022-03-15",performance:89,location:"New York"},{id:14,name:"Daniel Martinez",email:"daniel.m@company.com",department:"Engineering",role:"Backend Developer",status:"active",salary:125e3,joinDate:"2020-08-10",performance:91,location:"Austin"},{id:15,name:"Rachel Adams",email:"rachel.a@company.com",department:"Customer Success",role:"CS Manager",status:"on-leave",salary:98e3,joinDate:"2021-01-20",performance:86,location:"Chicago"},{id:16,name:"Kevin O'Brien",email:"kevin.o@company.com",department:"Engineering",role:"Frontend Developer",status:"active",salary:115e3,joinDate:"2021-06-15",performance:88,location:"Seattle"},{id:17,name:"Stephanie White",email:"stephanie.w@company.com",department:"Legal",role:"Legal Counsel",status:"active",salary:165e3,joinDate:"2019-04-10",performance:92,location:"Boston"},{id:18,name:"Andrew Taylor",email:"andrew.t@company.com",department:"Operations",role:"Operations Manager",status:"active",salary:105e3,joinDate:"2020-02-25",performance:84,location:"Denver"},{id:19,name:"Nicole Jackson",email:"nicole.j@company.com",department:"Marketing",role:"Content Strategist",status:"active",salary:78e3,joinDate:"2022-09-01",performance:81,location:"Los Angeles"},{id:20,name:"Brian Miller",email:"brian.m@company.com",department:"Engineering",role:"Data Engineer",status:"active",salary:135e3,joinDate:"2020-10-12",performance:90,location:"San Francisco"},{id:21,name:"Laura Scott",email:"laura.s@company.com",department:"Finance",role:"Controller",status:"active",salary:145e3,joinDate:"2018-06-20",performance:95,location:"New York"},{id:22,name:"Jason Clark",email:"jason.c@company.com",department:"Sales",role:"Sales Rep",status:"inactive",salary:65e3,joinDate:"2023-01-15",performance:72,location:"Miami"},{id:23,name:"Megan Turner",email:"megan.t@company.com",department:"HR",role:"Recruiter",status:"active",salary:72e3,joinDate:"2022-04-10",performance:83,location:"Phoenix"},{id:24,name:"Ryan Hughes",email:"ryan.h@company.com",department:"Engineering",role:"Security Engineer",status:"active",salary:15e4,joinDate:"2019-11-08",performance:96,location:"Seattle"},{id:25,name:"Christina Moore",email:"christina.m@company.com",department:"Product",role:"Product Designer",status:"active",salary:118e3,joinDate:"2021-08-25",performance:89,location:"Portland"}],Bt=({value:t})=>{const e={active:{bg:"#dcfce7",color:"#166534",border:"#86efac"},inactive:{bg:"#fee2e2",color:"#991b1b",border:"#fca5a5"},"on-leave":{bg:"#fef3c7",color:"#92400e",border:"#fcd34d"}},s=e[t]||e.active;return n.jsx("span",{style:{display:"inline-block",padding:"4px 10px",borderRadius:"9999px",fontSize:"12px",fontWeight:600,background:s.bg,color:s.color,border:`1px solid ${s.border}`,textTransform:"capitalize"},children:t.replace("-"," ")})},Yi=({value:t})=>{let e="#166534",s="#dcfce7";return t<80?(e="#991b1b",s="#fee2e2"):t<90&&(e="#92400e",s="#fef3c7"),n.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 8px",borderRadius:"6px",fontSize:"13px",fontWeight:600,background:s,color:e},children:[t,"%"]})},Ds=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(t),Zi=t=>new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),er=[{id:"name",header:"Name",accessorKey:"name",width:160,minWidth:120,maxWidth:250},{id:"email",header:"Email",accessorKey:"email",width:220,minWidth:150,maxWidth:300},{id:"department",header:"Department",accessorKey:"department",width:130,minWidth:100,maxWidth:180},{id:"role",header:"Role",accessorKey:"role",width:150,minWidth:100,maxWidth:200},{id:"status",header:"Status",accessorKey:"status",width:110,minWidth:100,maxWidth:140,cell:({value:t})=>n.jsx(Bt,{value:t})},{id:"salary",header:"Salary",accessorKey:"salary",width:120,minWidth:100,maxWidth:150,dataType:"number",cell:({value:t})=>Ds(t)},{id:"joinDate",header:"Join Date",accessorKey:"joinDate",width:120,minWidth:100,maxWidth:150,dataType:"date",cell:({value:t})=>Zi(t)},{id:"performance",header:"Performance",accessorKey:"performance",width:120,minWidth:100,maxWidth:150,dataType:"number",cell:({value:t})=>n.jsx(Yi,{value:t})},{id:"location",header:"Location",accessorKey:"location",width:130,minWidth:100,maxWidth:180}],X=[{id:"name",header:"Name",accessorKey:"name",width:160},{id:"department",header:"Department",accessorKey:"department",width:130},{id:"role",header:"Role",accessorKey:"role",width:150},{id:"status",header:"Status",accessorKey:"status",width:110,cell:({value:t})=>n.jsx(Bt,{value:t})},{id:"salary",header:"Salary",accessorKey:"salary",width:120,dataType:"number",cell:({value:t})=>Ds(t)}],tr=()=>n.jsx($,{data:G.slice(0,10),columns:X,getRowId:t=>String(t.id)});tr.meta={iframeHeight:500};const sr=()=>n.jsx($,{data:G.slice(0,15),columns:X,enableSorting:!0,getRowId:t=>String(t.id)});sr.meta={iframeHeight:550};const ir=()=>n.jsx($,{data:G,columns:X,enableSorting:!0,enableFiltering:!0,getRowId:t=>String(t.id)});ir.meta={iframeHeight:600};const rr=()=>n.jsx($,{data:G,columns:X,enableGlobalFilter:!0,enableSorting:!0,getRowId:t=>String(t.id)});rr.meta={iframeHeight:600};const nr=()=>n.jsx($,{data:G,columns:X,enablePagination:!0,enableSorting:!0,pageSize:5,getRowId:t=>String(t.id)});nr.meta={iframeHeight:450};const ar=()=>n.jsx($,{data:G.slice(0,10),columns:X,enableRowSelection:!0,enableSorting:!0,getRowId:t=>String(t.id)});ar.meta={iframeHeight:500};const or=()=>n.jsx($,{data:G.slice(0,10),columns:X,enableColumnResizing:!0,enableSorting:!0,getRowId:t=>String(t.id)});or.meta={iframeHeight:500};const lr=()=>n.jsx($,{data:G,columns:er,enableSorting:!0,enableFiltering:!0,enableGlobalFilter:!0,enablePagination:!0,enableRowSelection:!0,enableColumnResizing:!0,pageSize:8,getRowId:t=>String(t.id)});lr.meta={iframeHeight:650};const cr=()=>n.jsx("div",{style:{background:"#1f2937",padding:"1rem",borderRadius:"8px"},children:n.jsx($,{data:G.slice(0,10),columns:X,theme:"dark",enableSorting:!0,enableFiltering:!0,enablePagination:!0,pageSize:5,getRowId:t=>String(t.id)})});cr.meta={iframeHeight:500};const ur=()=>{const t=Array.from({length:100},(e,s)=>({...G[s%G.length],id:s+1,name:`Employee ${s+1}`,email:`employee${s+1}@company.com`}));return n.jsx($,{data:t,columns:X,enableSorting:!0,enablePagination:!0,enableGlobalFilter:!0,pageSize:10,getRowId:e=>String(e.id)})};ur.meta={iframeHeight:600};const dr=()=>n.jsx($,{data:[],columns:X,enableSorting:!0,getRowId:t=>String(t.id),emptyMessage:"No employees found. Try adjusting your filters."});dr.meta={iframeHeight:300};const hr=()=>n.jsx($,{data:G.slice(0,5),columns:X,loading:!0,getRowId:t=>String(t.id)});hr.meta={iframeHeight:350};const gr=()=>{const t=[{id:"name",header:"Employee",accessorKey:"name"},{id:"department",header:"Dept",accessorKey:"department"},{id:"status",header:"Status",accessorKey:"status",cell:({value:e})=>n.jsx(Bt,{value:e})}];return n.jsx($,{data:G.slice(0,8),columns:t,enableSorting:!0,getRowId:e=>String(e.id)})};gr.meta={iframeHeight:400};const mr=ks({name:"brand",mode:"light",colors:{bg:"#faf5ff",bgHover:"#f3e8ff",bgSelected:"#e9d5ff",border:"#d8b4fe",text:"#581c87",textSecondary:"#7c3aed",textMuted:"#a78bfa",primary:"#9333ea",primaryHover:"#7c3aed"}}),fr=ks({name:"ocean",mode:"dark",colors:{bg:"#0c4a6e",bgHover:"#075985",bgSelected:"#0369a1",border:"#0284c7",text:"#f0f9ff",textSecondary:"#bae6fd",textMuted:"#7dd3fc",primary:"#38bdf8",primaryHover:"#0ea5e9"}}),pr=()=>n.jsx(pt,{initialTheme:"light",autoApply:!0,children:n.jsxs("div",{style:{padding:"1rem"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[n.jsx("h3",{style:{margin:0},children:"Theme Engine Demo"}),n.jsx(Ts,{})]}),n.jsx($,{data:G.slice(0,8),columns:X,enableSorting:!0,enableFiltering:!0,getRowId:t=>String(t.id)})]})});pr.meta={iframeHeight:500};const yr=()=>n.jsx(pt,{initialTheme:"light",autoApply:!0,children:n.jsxs("div",{style:{padding:"1rem"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[n.jsx("h3",{style:{margin:0},children:"Theme Selector"}),n.jsx(Ji,{placeholder:"Select theme..."})]}),n.jsx($,{data:G.slice(0,8),columns:X,enableSorting:!0,enableFiltering:!0,getRowId:t=>String(t.id)})]})});yr.meta={iframeHeight:500};const br=()=>{const{themeName:t,isDarkMode:e,setTheme:s,availableThemes:i}=jt();return n.jsxs("div",{style:{padding:"1rem"},children:[n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginBottom:"1rem",padding:"1rem",background:e?"#374151":"#f3f4f6",borderRadius:"8px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[n.jsx("strong",{children:"Current Theme:"})," ",t,n.jsx("span",{style:{padding:"2px 8px",borderRadius:"4px",fontSize:"12px",background:e?"#1e40af":"#dbeafe",color:e?"#93c5fd":"#1e40af"},children:e?"Dark Mode":"Light Mode"})]}),n.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:i.map(r=>n.jsx("button",{onClick:()=>s(r),style:{padding:"6px 12px",borderRadius:"4px",border:r===t?"2px solid #3b82f6":"1px solid #d1d5db",background:r===t?"#eff6ff":"#fff",cursor:"pointer",fontWeight:r===t?600:400},children:r},r))})]}),n.jsx($,{data:G.slice(0,8),columns:X,enableSorting:!0,enableFiltering:!0,enablePagination:!0,pageSize:5,getRowId:r=>String(r.id)})]})},Sr=()=>n.jsx(pt,{initialTheme:"light",autoApply:!0,children:n.jsx(br,{})});Sr.meta={iframeHeight:550};const xr=()=>{const{setTheme:t,registerTheme:e,availableThemes:s,themeName:i}=jt();return u.useState(()=>{e("brand",mr),e("ocean",fr)}),n.jsxs("div",{style:{padding:"1rem"},children:[n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("h3",{style:{margin:"0 0 0.5rem 0"},children:"Custom Themes"}),n.jsx("p",{style:{margin:"0 0 1rem 0",color:"#6b7280",fontSize:"14px"},children:"Register custom themes using defineTheme() and registerTheme()"}),n.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:s.map(r=>n.jsx("button",{onClick:()=>t(r),style:{padding:"8px 16px",borderRadius:"6px",border:r===i?"2px solid #3b82f6":"1px solid #d1d5db",background:r===i?"#eff6ff":"#fff",cursor:"pointer",fontWeight:r===i?600:400,textTransform:"capitalize"},children:r},r))})]}),n.jsx($,{data:G.slice(0,10),columns:X,enableSorting:!0,enableFiltering:!0,enableRowSelection:!0,getRowId:r=>String(r.id)})]})},wr=()=>n.jsx(pt,{initialTheme:"light",autoApply:!0,children:n.jsx(xr,{})});wr.meta={iframeHeight:550};const vr=()=>n.jsx(pt,{initialTheme:"light",autoApply:!0,respectSystemPreference:!0,children:n.jsxs("div",{style:{padding:"1rem"},children:[n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("h3",{style:{margin:"0 0 0.5rem 0"},children:"System Preference"}),n.jsx("p",{style:{margin:"0 0 1rem 0",color:"#6b7280",fontSize:"14px"},children:"This grid respects your system's color scheme preference (light/dark mode). Change your system settings to see it update automatically."}),n.jsx(Ts,{lightLabel:" Light",darkLabel:" Dark"})]}),n.jsx($,{data:G.slice(0,8),columns:X,enableSorting:!0,getRowId:t=>String(t.id)})]})});vr.meta={iframeHeight:500};const Ms=[{id:"id",header:"ID",accessorKey:"id",width:60},{id:"name",header:"Name",accessorKey:"name",width:180},{id:"email",header:"Email",accessorKey:"email",width:220},{id:"phone",header:"Phone",accessorKey:"phone",width:160},{id:"website",header:"Website",accessorKey:"website",width:140},{id:"company",header:"Company",accessorFn:t=>{var e;return((e=t.company)==null?void 0:e.name)||""},width:180}],Ns=async t=>{const e=new URL("https://jsonplaceholder.typicode.com/users");return e.searchParams.set("_page",String(t.page)),e.searchParams.set("_limit",String(t.pageSize)),t.sorting.length>0&&(e.searchParams.set("_sort",t.sorting[0].id),e.searchParams.set("_order",t.sorting[0].desc?"desc":"asc")),{data:await(await fetch(e.toString())).json(),total:10}},Cr=()=>{const{data:t,isLoading:e,isFetching:s,error:i,totalRows:r,totalPages:a,page:l,pageSize:c,setPageSize:d,canPreviousPage:m,canNextPage:b,previousPage:g,nextPage:w}=Is({queryKey:"users",fetchFn:Ns,pageSize:5});return i?n.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"#dc2626"},children:["Error loading data: ",i.message]}):n.jsxs("div",{style:{padding:"1rem"},children:[n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsxs("h3",{style:{margin:"0 0 0.5rem 0"},children:["Remote Pagination with TanStack Query",s&&!e&&n.jsx("span",{style:{marginLeft:"0.5rem",fontSize:"12px",color:"#6b7280"},children:"(updating...)"})]}),n.jsxs("p",{style:{margin:"0 0 1rem 0",color:"#6b7280",fontSize:"14px"},children:["Data is fetched from JSONPlaceholder API with server-side pagination. Uses ",n.jsx("code",{children:"useTailGridQuery"})," hook powered by TanStack Query for caching and smooth UX."]})]}),n.jsx($,{data:t,columns:Ms,loading:e,getRowId:h=>String(h.id),enableSorting:!0}),!e&&t.length>0&&n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",borderTop:"1px solid #e5e7eb",background:"#f9fafb",marginTop:"-1px"},children:[n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:["Showing ",(l-1)*c+1," to ",Math.min(l*c,r)," of ",r," users"]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[n.jsx("button",{onClick:g,disabled:!m,style:{padding:"6px 12px",border:"1px solid #d1d5db",borderRadius:"4px",background:m?"#fff":"#f3f4f6",cursor:m?"pointer":"not-allowed",opacity:m?1:.5},children:"Previous"}),n.jsxs("span",{style:{fontSize:"14px"},children:["Page ",l," of ",a]}),n.jsx("button",{onClick:w,disabled:!b,style:{padding:"6px 12px",border:"1px solid #d1d5db",borderRadius:"4px",background:b?"#fff":"#f3f4f6",cursor:b?"pointer":"not-allowed",opacity:b?1:.5},children:"Next"}),n.jsx("select",{value:c,onChange:h=>d(Number(h.target.value)),style:{padding:"6px 8px",border:"1px solid #d1d5db",borderRadius:"4px",background:"#fff"},children:[5,10].map(h=>n.jsxs("option",{value:h,children:[h," / page"]},h))})]})]})]})},jr=()=>n.jsx(Rs,{client:Es,children:n.jsx(Cr,{})});jr.meta={iframeHeight:550};const Rr=()=>{const{data:t,isLoading:e,isFetching:s,sorting:i,setSorting:r}=Is({queryKey:"users-sorted",fetchFn:Ns,pageSize:10});return n.jsxs("div",{style:{padding:"1rem"},children:[n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsxs("h3",{style:{margin:"0 0 0.5rem 0"},children:["Remote Data with Sorting",s&&!e&&n.jsx("span",{style:{marginLeft:"0.5rem",fontSize:"12px",color:"#6b7280"},children:"(updating...)"})]}),n.jsxs("p",{style:{margin:"0 0 1rem 0",color:"#6b7280",fontSize:"14px"},children:["Click column headers to sort. Sorting is sent to the server.",i.length>0&&n.jsxs("span",{style:{marginLeft:"0.5rem",color:"#3b82f6"},children:["Sorted by: ",i.map(a=>`${a.id} (${a.desc?"desc":"asc"})`).join(", ")]})]})]}),n.jsx($,{data:t,columns:Ms,loading:e,getRowId:a=>String(a.id),enableSorting:!0,onSortingChange:r})]})},Pr=()=>n.jsx(Rs,{client:Es,children:n.jsx(Rr,{})});Pr.meta={iframeHeight:500};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{wr as CustomThemesDemo,cr as DarkTheme,tr as Default,dr as EmptyState,lr as FullFeatured,ur as LargeDataset,hr as LoadingState,gr as MinimalColumns,Pr as RemoteDataWithSorting,jr as RemotePaginationDemo,vr as SystemPreferenceDemo,Sr as ThemeContextDemo,pr as ThemeEngineDemo,yr as ThemeSelectorDemo,ir as WithColumnFiltering,or as WithColumnResizing,rr as WithGlobalSearch,nr as WithPagination,ar as WithRowSelection,sr as WithSorting};
